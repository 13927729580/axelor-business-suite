<?xml version="1.0"?>
<csv-inputs xmlns="http://apps.axelor.com/xml/ns/data-import"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://apps.axelor.com/xml/ns/data-import http://apps.axelor.com/xml/ns/data-import/data-import_0.8.xsd">
  
	<input file="Evenement.csv" separator=";" type="com.axelor.apps.crm.db.ActionEvent">
		<bind to="actionEventSource" search="self.name = :Canal" update="true">
		    <bind column="Canal" to="name" />
		</bind>
		<bind column="Id_Evenement" to="olaEventId"/>
		<bind to="olaDateTime" column="Date_Heure" eval="!Date_Heure.empty ? Date_Heure.replaceAll('([0-9]{1,2})/([0-9]{1,2})/([0-9]{4}) ([0-9]{2}):([0-9]{2}):([0-9]{2})','$3'.padLeft(2,'0')+'-'+'$2'.padLeft(2,'0')+'-$1'+'T$4'+':$5'+':$6') : null"/>
		<bind to="actionEventFamily" search="self.name = :Famille" update="true">
		    <bind column="Famille" to="name" />
		</bind>
		<bind to="actionEventSubFamily" search="self.name = :Sous_Famille" update="true">
		    <bind column="Sous_Famille" to="name" />
		</bind>
		<bind column="Createur" to="olaCreator"/>
		<bind column="Detail" to="olaDetail"/>
		<bind to="contract" search="self.contractId = :Reference_Dossier" update="true">
		    <bind column="Reference_Dossier" to="contractId" />
		</bind>
		<bind to="contractLine" search="self.contractLineId = :Reference_Contrat" update="true">
		    <bind column="Reference_Contrat" to="contractLineId" />
		</bind>
		<bind to="mpt" search="self.code = :Reference_PCT" update="true">
		    <bind column="Reference_PCT" to="code" />
		</bind>
		<bind to="createDate" eval="new org.joda.time.DateTime()" />
		
	</input>

	
	
</csv-inputs>