<?xml version="1.0" encoding="UTF-8"?>
<csv-inputs xmlns="http://apps.axelor.com/xml/ns/data-import"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://apps.axelor.com/xml/ns/data-import http://apps.axelor.com/xml/ns/data-import/data-import_0.8.xsd">
  
    <input file="auth_group.csv" type="com.axelor.auth.db.Group" />
    
    <input file="auth_user.csv" separator=";" type="com.axelor.auth.db.User" />
    
    <input file="base_status.csv" type="com.axelor.apps.base.db.Status">
		<bind column="statut_id" to="koalaId" />
		<bind column="statut_libelle" to="name" />
		<bind column="statut_code" to="code" />
		<bind column="statut_flag_facture" to="invoiceStatusOK" eval="statut_flag_facture == '1'? true : false" />
	</input>
	
	<input file="base_country.csv" separator=";" type="com.axelor.apps.base.db.Country" />
	
	<input file="base_region.csv" separator=";" type="com.axelor.apps.base.db.Region" />
	
	<input file="base_departement.csv" separator=";" type="com.axelor.apps.base.db.Department" />
	
	<input file="base_canton.csv" separator=";" type="com.axelor.apps.base.db.Canton" />

	<input file="base_commune.csv" separator=";" type="com.axelor.apps.base.db.Commune" />
	
	<input file="base_address.csv" separator=";" type="com.axelor.apps.base.db.Address" />
	
	<input file="base_mailModel.csv" separator=";" type="com.axelor.apps.base.db.MailModel" />
	
	<input file="base_currency.csv" separator=";" type="com.axelor.apps.base.db.Currency" />
	
	<input file="base_general.csv" separator=";" type="com.axelor.apps.base.db.General" />
	
	<input file="base_company.csv" separator=";" type="com.axelor.apps.base.db.Company"/>
	
	<input file="base_userInfo.csv" separator=";" type="com.axelor.apps.base.db.UserInfo" />
	
	<input file="base_currencyConversionLine.csv" separator=";" type="com.axelor.apps.base.db.CurrencyConversionLine" />
	
	<input file="sequenceFR_AX.csv" type="com.axelor.apps.base.db.SequenceGeneric" >
    	<bind to="yearlyResetOk" column="yearlyResetOk" eval="yearlyResetOk == '1' ? true : false"/>
    	<bind to="nextNum" column="nextNum" eval="nextNum?.empty ? '1' : nextNum"/>
    	<bind to="padding" column="padding" eval="padding?.empty ? '1' : padding"/>
    	<bind to="toBeAdded" column="toBeAdded" eval="toBeAdded?.empty ? '1' : toBeAdded"/>
    </input>
    
    <input file="base_agency.csv" separator=";" type="com.axelor.apps.base.db.Agency"/>
	
	<!-- TODO BIND EN FONCTION DE LA LANGUE -->
	<input file="base_partnerCategory.csv" separator=";" type="com.axelor.apps.base.db.PartnerCategory">
		<bind column="name_fr_FR" to="name"/>	
	</input>
	
	<!-- A BESOIN de paymentMode, fichier vide actuellement, il faudra faire un update -->
	<input file="base_partner.csv" separator=";" type="com.axelor.apps.base.db.Partner" />
	
	<!-- A BESOIN DE PARTNER -->
	<input file="base_bankDetails.csv" separator=";" type="com.axelor.apps.base.db.BankDetails" />
	
	<input file="base_partner.csv" separator=";" search="self.importId = :importId" type="com.axelor.apps.base.db.Partner" >
		<bind column="bankDetails.importId" to="bankDetails" update="true"/>
	</input>

	<!-- TODO BIND EN FONCTION DE LA LANGUE POUR LES 2 CI-dessous -->
	<input file="base_productCategory.csv" separator=";" type="com.axelor.apps.base.db.ProductCategory">
		<bind column="code_fr_FR" to="code"/>	
		<bind column="name_fr_FR" to="name"/>	
	</input>
	
	<input file="base_productCategory.csv" separator=";" search="self.code = :code_fr_FR and self.name = :name_fr_FR" type="com.axelor.apps.base.db.ProductCategory">
		<bind column="code_fr_FR" to="code" update="true"/>	
		<bind column="name_fr_FR" to="name" update="true"/>	
	</input>

	<input file="base_productFamily.csv" separator=";" type="com.axelor.apps.base.db.ProductFamily"/>
	
	<input file="base_product.csv" separator=";" type="com.axelor.apps.base.db.Product">
		<bind column="name_fr_FR" to="name"/>
		<bind column="code_fr_FR" to="code"/>
		<bind column="description_fr_FR" to="description"/>
	</input>


    
    
	
	<input file="account_journalType.csv" separator=";" type="com.axelor.apps.account.db.JournalType" />
	
	<input file="account_journal.csv" separator=";" type="com.axelor.apps.account.db.Journal" />
	
	<!-- 	<input file="account_account.csv" separator=";" type="com.axelor.apps.account.db.Account" /> -->
	<input file="account_account.csv" separator=";" type="com.axelor.apps.account.db.Account" >
		<bind to="name" column="name_fr_FR"/>
	</input>
	
	<input file="account_paymentMode.csv" separator=";" type="com.axelor.apps.account.db.PaymentMode" />
	
	
	
	<input file="account_analyticAxis.csv" separator=";" type="com.axelor.apps.account.db.AnalyticAxis" />
	
	<input file="account_analyticAccount.csv" separator=";" type="com.axelor.apps.account.db.AnalyticAccount" />
	
	<input file="account_year.csv" separator=";" type="com.axelor.apps.account.db.Year">
        <bind to="name" column="name"/>
        <bind to="code" column="code"/>
        <bind to="toDate" column="toDate"/>
        <bind to="fromDate" column="fromDate"/>
        <bind to="company" search="self.name = :company_name" >
            <bind to="name" column="company_name"/>
        </bind>
        <bind to="status" search="self.code = :status_code" >
            <bind to="code" column="status_code"/>
        </bind>
    </input>
	
	<input file="base_company.csv" separator=";" type="com.axelor.apps.base.db.Company" search="self.importId = :importId" call="com.axelor.csv.script.UpdateAll:updatePeriod">
		<bind column="importId" to="importId"/>
	</input>
	
	
	<!-- TO DO Remplir le M2O activeVatLine par un update en utilisant le code TVA -->
	<input file="account_vat.csv" separator=";" type="com.axelor.apps.account.db.Vat">
		<bind column="code" to="code" />
        <bind column="name" to="name" />
        <bind column="importId" to="importId" />
	</input>
	
	<input file="account_vatLine.csv" separator=";" type="com.axelor.apps.account.db.VatLine" />
	
	<input file="account_vat.csv" separator=";" update="true" search="self.importId = :importId" type="com.axelor.apps.account.db.Vat">
<!-- 		<bind column="_activeVatLine" to="activeVatLine"/> -->
		<bind to="activeVatLine" update="true" search="self.importId = :_activeVatLine">
			<bind column="_activeVatLine" to="importId"/>
		</bind>
	</input>
	
	<input file="account_interBankCode.csv" type="com.axelor.apps.account.db.InterbankCodeLine">
        <bind column="code_rejet" to="code" />
        <bind column="libelle_rejet" to="name" />
        <bind column="description_rejet" to="description" />
        <bind column="transferCfonbOk" to="transferCfonbOk" eval="transferCfonbOk == 't' ? true : false"/>
        <bind column="prelevement" to="directDebitAndTipCfonbOk" eval="prelevement == 't' ? true : false"/>
        <bind column="prelevement_sepa" to="directDebitSepaOk" eval="prelevement_sepa == 't' ? true : false"/>
        <bind column="lcr_bor" to="lcrBorOk" eval="lcr_bor == 't' ? true : false"/>
        <bind column="cheque" to="chequeOk" eval="cheque == 't' ? true : false"/>
        <bind column="rejet_technique" to="technicalRejectOk" eval="rejet_technique == 't' ? true : false"/>
        <bind to="interbankCode" search="self.code = :code_fichier">
            <bind column="code_fichier" to="code"/>
            <bind column="nom_fichier" to="name"/>
            <bind column="date_fin" to="endDate" eval="date_fin ? date_fin : null"/>
            <bind column="description_fichier" to="description"/>
        </bind>
    </input>
	
	
	
	<input file="account_reminderLevel.csv" separator=";" type="com.axelor.apps.account.db.ReminderLevel" />
	
	<input file="account_reminderMethod.csv" separator=";" type="com.axelor.apps.account.db.ReminderMethod" />
	
	<input file="account_reminderMethodLine.csv" separator=";" type="com.axelor.apps.account.db.ReminderMethodLine" />
	
	
	<input file="account_accountManagement.csv" separator=";" type="com.axelor.apps.account.db.AccountManagement" />
	
	<input file="account_analyticAccountManagement.csv" separator=";" type="com.axelor.apps.account.db.AnalyticAccountManagement" />
	
	
	<input file="account_reminderConfigLine.csv" separator=";" type="com.axelor.apps.account.db.ReminderConfigLine" />
	
	
	
	
	
	
	  	
</csv-inputs>

