<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://apps.axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://apps.axelor.com/xml/ns/object-views http://apps.axelor.com/xml/ns/object-views/object-views_2.0.xsd">
	
	<grid name="import-configuration-grid" title="Import" model="com.axelor.apps.base.db.ImportConfiguration">
		<field name="name"/>
		<field name="typeSelect"/>
        <field name="bindMetaFile" />
        <field name="dataMetaFile" />
        <field name="user" />
        <field name="createdOn" />
	</grid>
	
	<form name="import-configuration-form" title="Import" model="com.axelor.apps.base.db.ImportConfiguration" onNew="action-import-record-default">
        <toolbar>
          <button name="import" title="Importer" colSpan="4" onClick="save,action-import-configuration-method-run,save" prompt="Etes vous sur de vouloir lancer l'import ?" />
        </toolbar>
        <field name="name"/>
        <field name="typeSelect"/>
        <field name="bindMetaFile" canNew="true"/>
		<field name="dataMetaFile" canNew="true"/>
		<notebook colSpan="4">
			<page title="Description" cols="2">
				<field name="description" colSpan="2" showTitle="false" widget="html" />
			</page>
			<page title="Historique" cols="2">
				<field name="importHistoryList" grid-view="import-history-grid" form-view="import-history-form" colSpan="2" showTitle="false" widget="MasterDetail" readonly="true" />
			</page>
		</notebook>
	</form>
  
    <action-method name="action-import-configuration-method-run">
      <call class="com.axelor.apps.base.web.ImportConfigurationController" method="run"/>
    </action-method>
	
    <action-record name="action-import-record-default" model="com.axelor.apps.base.db.ImportConfiguration">
      <field name="user" expr="eval: __user__"/>
    </action-record>
    
</object-views>
