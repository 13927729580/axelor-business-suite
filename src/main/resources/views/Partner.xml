<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://apps.axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://apps.axelor.com/xml/ns/object-views http://apps.axelor.com/xml/ns/object-views/object-views_2.1.xsd">
    
    <grid name="partner-grid" title="Partners" model="com.axelor.apps.base.db.Partner" orderBy="name">
	    <toolbar>
	        <button name="printPhoneBook" title="PhoneBook" icon="fa-print" onClick="action-print-phonebook"/>
	        <button name="printCompanyPhoneBook" title="Company phoneBook" icon="fa-print" onClick="action-print-compnay-phonebook"/>
	    </toolbar>
	    <field name="fullName"/>
	    <field name="mainInvoicingAddress"/>
	    <field name="fixedPhone"/>
		<field name="emailAddress.address"/>
	    <field name="partnerCategory"/>
		<button name="logCall" title="Log Call" colSpan="1" icon="fa-phone" help="Log Call" onClick="action-partner-view-create-call"  if-module="axelor-crm"/>
		<button name="scheduleMeeting" title="Schedule Meeting" colSpan="1" help="Schedule Meeting" icon="fa-group" onClick="action-partner-view-create-meeting" if-module="axelor-crm"/>
		<button name="sendByEmail" title="Send Email" colSpan="1" help="Send Email" icon="fa-envelope" onClick="action-send-by-email-with-template" if-module="axelor-crm"/>
	</grid>
    
    <grid name="partner-contact-grid" title="Contacts" model="com.axelor.apps.base.db.Partner">
	    <field name="fullName"/>
	    <field name="fixedPhone"/>
	    <field name="mobilePhone"/>
	    <field name="emailAddress.address"/>
	    <button name="logCall" title="Log Call" colSpan="1" icon="fa-phone" help="Log Call" onClick="action-partner-view-create-call" if-module="axelor-crm"/>
		<button name="scheduleMeeting" title="Schedule Meeting" colSpan="1" help="Schedule Meeting" icon="fa-group" onClick="action-partner-view-create-meeting" if-module="axelor-crm"/>
		<button name="sendByEmail" title="Send Email" colSpan="1" help="Send Email" icon="fa-envelope" onClick="action-send-by-email-with-template" if-module="axelor-crm"/>
		
	</grid>
    
     <grid name="partner-grid-group" title="Partner" model="com.axelor.apps.base.db.Partner" groupBy="user">
        <field name="fullName"/>
        <field name="mainInvoicingAddress"/>
        <field name="fixedPhone"/>
		<field name="mobilePhone"/>
        <field name="emailAddress.address"/>
        <field name="user"/>
    </grid>
    
    <form name="partner-form" id="base-partner-form" title="Partner" model="com.axelor.apps.base.db.Partner" cols="6" colWidths="25*" 
    onNew="action-group-base-partner-onnew" 
    onLoad="action-partner-attrs-change-name,action-partner-method-set-social-network-url" 
    onSave="action-group-base-partner-onsave">
	    <toolbar>
	        <button name="sendByEmail" title="Send email" icon="fa-envelope" onClick="save,action-send-by-email-with-template" readonlyIf="id == null" if-module="axelor-message"/>
	        <button name="showPartnerInfo" title="Print Informations" icon="fa-print" onClick="save,action-partner-method-show-partner-info" readonlyIf="id == null"/>
	        <button name="showClientSituationForm" title="Client Situation" icon="fa-print" onClick="save,action-partner-method-show-client-situation" showIf="isContact == false" readonlyIf="id == null" if-module="axelor-account"/>
	    </toolbar>
	     <menubar>
	        <menu title="Actions" icon="img/16px/create_16px.png" showTitle="true" if-module="axelor-crm">
	            <item title="Create call" action="save,action-partner-view-create-call" readonlyIf="id == null" />
	            <item title="Schedule meeting" action="save,action-partner-view-create-meeting" readonlyIf="id == null" />
	            <item title="Create task" action="save,action-partner-view-create-task" readonlyIf="id == null" />
	            <item title="Create opportunity" action="save,action-partner-view-create-opportunity" readonlyIf="id == null" />
	        </menu>
	    </menubar>
	    <panel>
	    	<panel x-span="2">
	        	<field name="picture" showTitle="false" widget="Image" x-span="12" x-width="80" x-height="80"/>
	      	</panel>
	      	<panel x-span="9">
	      	<field name="fullName" x-span="12" showTitle="false">
	      		<hilite strong="true" if="true" color="primary"/>        
		        <editor>
		            <field name="partnerTypeSelect" showTitle="false" onChange="action-partner-attrs-change-name,action-partner-method-set-social-network-url" x-span="4"/>
		            <spacer x-span="8"/>
		            <field name="name" showTitle="false" css="highlight" placeholder="Name" onChange="action-partner-record-full-name,action-partner-method-set-social-network-url" x-span="4"/>
		            <field name="firstName" showTitle="false" hideIf="partnerTypeSelect != 2" css="highlight" placeholder="First name" onChange="action-partner-record-full-name,action-partner-method-set-social-network-url" x-span="3"/>            
		            <field name="titleSelect" showTitle="false" hideIf="partnerTypeSelect != 2" placeholder="Civility" x-span="2"/>
		        </editor>
		    </field>
			<panel x-span="4" showIf="fullName != null">
			    <label name="google" title="&lt;a class='fa fa-google-plus' href='http://www.google.com' target='_blank' /&gt;" x-span="2"/>
			    <label name="facebook" title="&lt;a class='fa fa-facebook' href='http://www.facebook.com' target='_blank' /&gt;" x-span="2"/>
			    <label name="twitter" title="&lt;a class='fa fa-twitter' href='http://www.twitter.com' target='_blank' /&gt;" x-span="2"/>
			    <label name="linkedin" title="&lt;a class='fa fa-linkedin' href='http://www.linkedin.com' target='_blank' /&gt;" x-span="2"/>
			    <label name="youtube" title="&lt;a class='fa fa-youtube' href='http://www.youtube.com' target='_blank' /&gt;" x-span="2"/>
			</panel>
		</panel>
  		</panel>
  		<panel-related field="contactPartnerSet" hideIf="isContact || partnerTypeSelect == 2"  colSpan="4" domain="self.isContact = 'true'" form-view="partner-contact-form" grid-view="partner-contact-grid" />
  		<panel-tabs>
  			<panel name="information" title="Informations">
				<panel hideIf="isContact" x-span="12">
					<field name="customerTypeSelect" hideIf="(isContact &amp;&amp; partnerTypeSelect == 2)"/>
					<field name="supplierTypeSelect" hideIf="partnerTypeSelect == 2 || isContact"/>
				</panel>
				<panel title="Partner Details" hideIf="partnerTypeSelect == 2" x-span="12" >
					<panel x-span="6">
						<field name="partnerCategory" widget="SuggestBox" x-span="6"/>
						<field name="industrySectorSelect" x-span="6"/>
						<field name="source" x-span="6"/>
						<field name="site" domain="self.partner.id = :id" x-span="6"/>
						<field name="department" x-span="6"/>
					</panel>
					<panel  x-span="6">
						<field name="saleTurnover" x-span="6"/>
						<field name="nbrEmployees" x-span="6"/>
						<field name="registrationCode" x-span="6"/>
						<field name="taxNbr" x-span="6"/>
						<field name="parentPartner" hideIf="partnerTypeSelect != 1" domain="self.isContact = false AND self.partnerTypeSelect = 1" x-span="6"/>
					</panel>
		      	</panel>
				<panel title="Postal addresses" x-span="12">
					<field name="deliveryAddress" canNew="true" onChange="action-partner-record-main-invoicing-address"/>
					<field name="mainInvoicingAddress" canNew="true"/>
					<field name="deliveryDelay" showIf="supplierTypeSelect == 2 || supplierTypeSelect == 3"/>
				</panel>
				<panel title="Contact" x-span="12">
					<field name="fixedPhone"/>
					<field name="mobilePhone" hideIf="partnerTypeSelect == 1"/>
					<field name="emailAddress" canSelect="false" canNew="false" form-view="email-address-simple-form"/>
					<field name="fax"/>
					<field name="webSite"/>
				</panel>
				<spacer />
	    	</panel>
			<panel name="payment" title="Invoicing/Payment" hideIf="partnerTypeSelect == 2 || isContact" if-module="axelor-account" x-span="12">
				<field name="invoiceSendingFormatSelect"/>
				<field name="paymentMode"/>
				<field name="paymentCondition"/>
				<field name="currency" requiredIf="!isContact &amp;&amp; partnerTypeSelect != 2"/>
				<field name="fiscalPosition"/>
				<field name="payerQuality"/>
				<field name="bankDetails" widget="SuggestBox" domain="self.partner.id = :id"/>
				<panel x-span="6">
					<button name="showAllInvoices" title="Show invoices" colSpan="2" onClick="save,action-partner-view-partner-invoice"/>
					<button name="showUnpaidInvoice" title="View all unpaid invoices" colSpan="2" onClick="save,action-partner-view-show-unpaid-invoice"/>
				</panel>
				<field name="bankDetailsList" >
				    <viewer><![CDATA[
						<bankDetailsList>
						{{record.fullName}} 
						</bankDetailsList>
						]]></viewer>
				    <editor>
						<field name="countryCode" x-span="4"/>
						<field name="bankAddress" x-span="4"/>
						<field name="bankCode" x-span="4"/>
						<field name="accountNbr" x-span="4"/>
						<field name="iban" x-span="4"/>
						<field name="bic" x-span="4"/>
				    </editor>
				</field>      
			</panel>
			<panel-related field="accountingSituationList" title="Customer balance" hideIf="isContact" if-module="axelor-account" widget="MasterDetail" grid-view="accounting-situation-partner-grid" form-view="accounting-situation-partner-form" onSelect="action-account-accounting-situation-method-update-customer-account" />
			<panel-related field="blockingList" widget="MasterDetail" title="Blockings" hideIf="isContact" if-module="axelor-account"/>
			<panel-related field="reportedBalanceList"  widget="MasterDetail" title="Reported balance" hideIf="isContact" if-module="axelor-account" />
			<panel title="SEPA Direct Debit" if-module="axelor-account">
			 	  <field name="activeRum" colSpan="2" canNew="false" domain="self.partner.id = :id"/>
			      <field name="rumList" title="History" readonly="true" x-span="12">
			           <viewer><![CDATA[
						<rumList>
						{{record.rumNumber}} {{record.debtorName}} {{record.debtorAddress}} {{record.creationDate}} {{record.mandateSignatureDate}} {{record.mandateSignatureCommune}}
						</rumList>
						]]></viewer>
			      </field>
			</panel>
			<panel title="Activities" showIf="id != null" if-module="axelor-crm">
				<button name="showProject" title="Show projects" colSpan="3" onClick="save,action-partner-view-partner-project" />
			</panel>
			<panel-dashlet x-span="12" title="Sales" showIf="id != null" if-module="axelor-supplychain" action="portal.customer.sales.lastYear.vs.ytd.by.family" height="350"/>
			<panel-dashlet x-span="12" title="Events" showIf="id != null" if-module="axelor-crm" action="portal.customer.crm.activities" height="350"/>
			<panel title="Notes" x-span="12">
				<field name="description" x-span="12" showTitle="false" colSpan="4" widget="Html" x-lite="true"/>
			</panel>
			<panel title="Settings" x-span="12">
				<field name="partnerSeq"/>
				<field name="languageSelect"/>
				<panel title="Assigned to" x-span="12">
					<field name="companySet" colSpan="4" widget="TagSelect" onChange="action-partner-company-set-validate" x-create="name"/>
					<field name="user"/>
					<field name="team"/>
				</panel>
			</panel>
		</panel-tabs>
	<!-- 		        <page name="payment" title="Invoicing/Payment" hideIf="partnerTypeSelect == 2 || isContact" if-module="axelor-account" colSpan="4" cols="4"> -->
	<!-- 	            <include view="incl-invoice-payment-partner-form" from="axelor-account"/> -->
	<!-- 	        </page> -->
	<!-- 	        <page name="compteClient" title="Customer balance" hideIf="isContact" if-module="axelor-account"> -->
	<!-- 	    		<include view="incl-customer-balance-partner-form" from="axelor-account" /> -->
	<!-- 	    	</page> -->
	<!-- 	    	<page name="blocking" title="Blockings" hideIf="isContact" if-module="axelor-account"> -->
	<!-- 	    	    <include view="incl-blocking-partner-form" from="axelor-account" /> -->
	<!-- 	    	</page> -->
	<!-- 	    	<page name="reportedBalance" title="Reported balance" hideIf="isContact || id == null" if-module="axelor-account"> -->
	<!-- 	    	   	<include view="incl-reported-balance-partner-form" from="axelor-account" /> -->
	<!-- 	    	</page> -->
	<!-- 	    	<page title="SEPA Direct Debit" cols="4" showIf="paymentMode.typeSelect == 2" if-module="axelor-account"> -->
	<!-- 	    	    <include view="incl-sepa-direct-debit-partner-form" from="axelor-account" /> -->
	<!-- 	    	</page> -->
	<!-- 	        <page name="activities" title="Activities" showIf="id != null" if-module="axelor-crm"> -->
	<!-- 	            <include view="incl-show-project-partner-form" from="axelor-organisation" if-module="axelor-organisation" /> -->
	<!-- 	        	<include view="incl-activities-partner-form" from="axelor-crm" /> -->
	<!-- 	        	<include view="incl-sales-order-portal-form" from="axelor-supplychain" if-module="axelor-supplychain" /> -->
	<!-- 	        </page> -->
	<!-- 			<page name="turnover" title="Sales" showIf="id != null" if-module="axelor-supplychain"> -->
	<!-- 				<include view="incl-sales-partner-form" from="axelor-supplychain" /> -->
	<!-- 			</page> -->
	<!-- 			<page name="events" title="Events" showIf="id != null" if-module="axelor-crm"> -->
	<!--      			<include view="incl-events-partner-form" from="axelor-crm" /> -->
	<!-- 			</page> -->
	<!-- 			<page title="Notes"> -->
	<!-- 	            <field name="description" showTitle="false" colSpan="4" widget="Html" x-lite="true"/> -->
	<!-- 	        </page> -->
	<!-- 			<page title="Settings" cols="4"> -->
	<!-- 	            <field name="partnerSeq"/> -->
	<!-- 	            <field name="languageSelect"/> -->
	<!-- 	            <group title="Assigned to" colSpan="4" cols="4" canCollapse="true"> -->
	<!-- 	                <field name="companySet" colSpan="4" widget="TagSelect" x-create="name" onChange="action-partner-company-set-validate"/> -->
	<!-- 	                <break/> -->
	<!-- 	                <field name="user"/> -->
	<!-- 	                <field name="team"/> -->
	<!-- 	            </group> -->
	<!-- 	        </page> -->
	
	<!-- 	    </notebook> -->
	</form>
	
	<grid name="partner-light-grid" title="Contacts" model="com.axelor.apps.base.db.Partner">
        <field name="fullName"/>
        <field name="mainInvoicingAddress"/>
        <field name="fixedPhone"/>
		<field name="mobilePhone"/>
        <field name="email"/>
    </grid>
    
    <form name="partner-light-form" title="Partner" model="com.axelor.apps.base.db.Partner"
	    onNew="action-partner-record-partner-type-select" 
	    onLoad="action-partner-attrs-change-name" 
	    onSave="save,action-set-partner-seq">
	    
	    <toolbar>
    		<button name="sendByEmail" title="Send email" onClick="save,action-send-by-email-with-template" colSpan="1" readonlyIf="id == null"/>
    	</toolbar>
	    <panel>
	        <field name="picture" widget="Image" x-span="4"/>
		    <panel x-span="8">
		        <field name="titleSelect" hideIf="partnerTypeSelect != 2" css="highlight" />
		        <spacer/>
		        <field name="name" css="highlight" onChange="action-partner-record-full-name"/>
		        <field name="firstName" hideIf="partnerTypeSelect != 2" css="highlight" onChange="action-partner-record-full-name"/>
		        <field name="partnerCategory" widget="SuggestBox"/>
		        <field name="partnerTypeSelect" onChange="action-partner-attrs-change-name"/>
		        <field name="isContact" hideIf="partnerTypeSelect != 2"/>
		        <spacer/>
		        <field name="mainPartner" hideIf="!isContact"/>
		    </panel>
		</panel>
	    <panel-tabs>
	        <panel name="information" title="Informations">
	            <panel title="Partner details" x-span="12"  hideIf="partnerTypeSelect == 2">
	                <field name="site" domain="self.partner.id = :id"/>
	                <field name="department"/>
	                <field name="source" hideIf="isContact"/>
	            </panel>
	            <panel x-span="12" title="Postal addresses" hideIf="isContact">
	                <field name="mainInvoicingAddress" onChange="action-partner-record-main-invoicing-address"/>
	                <field name="deliveryAddress"/>
	            </panel>
	            <panel title="Contact" x-span="12">
	                <field name="emailAddress" canSelect="false" canNew="false" form-view="email-address-simple-form"/>
	                <field name="fax"/>
	                <field name="fixedPhone"/>
					<field name="mobilePhone"/>
	                <field name="webSite"/>
	            </panel>
	       </panel>
	    </panel-tabs>
    </form>
	

	<form name="partner-contact-form" title="Contact" model="com.axelor.apps.base.db.Partner" 
	onNew="action-partner-contact-record-default" 
	onLoad="action-partner-attrs-change-name,action-partner-method-set-social-network-url" 
	onSave="save,action-set-partner-seq">
	    <toolbar>
	        <button name="sendByEmail" title="Send email" icon="fa-envelope" onClick="save,action-send-by-email-with-template" readonlyIf="id == null"/>
	        <button name="showPartnerInfo" title="Print Informations" icon="fa-print" onClick="save,action-partner-method-show-partner-info"  readonlyIf="id == null"/>
	        <button name="showClientSituationForm" title="Client Situation" icon="fa-print" onClick="save,action-partner-method-show-client-situation" showIf="isContact == false"  readonlyIf="id == null" if-module="axelor-account"/>
	    </toolbar>
	     <menubar>
	        <menu title="Actions" icon="img/16px/create_16px.png" showTitle="true">
	            <item title="Create call" action="save,action-partner-view-create-call" readonlyIf="id == null" />
	            <item title="Schedule meeting" action="save,action-partner-view-create-meeting" readonlyIf="id == null" />
	            <item title="Create task" action="save,action-partner-view-create-task" readonlyIf="id == null" />
	            <item title="Create opportunity" action="save,action-partner-view-create-opportunity" readonlyIf="id == null" />
	        </menu>
	    </menubar>
	    <panel>
	    	<panel x-span="3">
	    		<field name="picture" widget="Image" showTitle="false" x-span="12"/>
	    		<panel x-span="12">
	           		<label name="google" title="&lt;a class='fa fa-google-plus' href='http://www.google.com' target='_blank' /&gt;" x-span="2"/>
				    <label name="facebook" title="&lt;a class='fa fa-facebook' href='http://www.facebook.com' target='_blank' /&gt;" x-span="2"/>
				    <label name="twitter" title="&lt;a class='fa fa-twitter' href='http://www.twitter.com' target='_blank' /&gt;" x-span="2"/>
				    <label name="linkedin" title="&lt;a class='fa fa-linkedin' href='http://www.linkedin.com' target='_blank' /&gt;" x-span="2"/>
				    <label name="youtube" title="&lt;a class='fa fa-youtube' href='http://www.youtube.com' target='_blank' /&gt;" x-span="2"/>
	        	</panel>
	      	</panel>
	        <panel x-span="9">
	            <field name="titleSelect" showTitle="false" placeholder="Civility" x-span="2" />
	            <field name="name" showTitle="false" css="highlight" placeholder="Name" onChange="action-group-base-partner-contact-name-onchange,action-partner-method-set-social-network-url" x-span="5" />
	            <field name="firstName" showTitle="false" css="highlight" placeholder="First name" onChange="action-group-base-partner-contact-name-onchange,action-partner-method-set-social-network-url" x-span="5" />
	            <panel title="Company" x-span="12" >
	            	<field name="mainPartner"/>
	           	</panel>
	        </panel>
         </panel>
        <panel title="Contact">
            <field name="jobTitle"/>
            <field name="reportsTo"/>
            <field name="fixedPhone"/>
            <field name="mobilePhone"/>
            <field name="emailAddress" canSelect="false" canNew="false" form-view="email-address-simple-form"/>
            <field name="fax"/>
            <field name="mainInvoicingAddress" title="Address"/>     
        </panel>
        <panel title="Notes">
            <field name="description" showTitle="false" x-span="12" widget="Html" x-lite="true"/>
        </panel>
        <panel-side title="Settings">
            <field name="partnerSeq"/>
            <field name="languageSelect"/>
            <panel title="Assigned to" canCollapse="true" x-span="12">
                <field name="companySet" x-span="12" widget="TagSelect" x-create="name" onChange="action-partner-company-set-validate" />
                <field name="user"/>
                <field name="team"/>
            </panel>
        </panel-side>
<!-- 		    <page name="activities" title="Activities" showIf="id != null" if-module="axelor-crm"> -->
<!-- 	        	<include view="incl-show-project-partner-form" from="axelor-organisation" /> -->
<!-- 	        	<include view="incl-activities-partner-form" from="axelor-crm" /> -->
<!-- 	        	<include view="incl-sales-order-portal-form" from="axelor-sale" /> -->
<!-- 	        </page> -->
	</form>
	
	<action-group name="action-group-base-partner-onnew">
		<action name="action-partner-record-partner-type-select"/>
		<action name="action-partner-record-set-default"/>
		<action name="action-partner-record-customer-supplier-type"/>
	</action-group>
	
	<action-group name="action-group-base-partner-onsave">
		<action name="save"/>
		<action name="action-set-partner-seq"/>
		<action name="action-create-accounting-situation"/>
	</action-group>
	
	<action-group name="action-group-base-partner-contact-name-onchange">
		<action name="action-check-string-capital-case"/>
		<action name="action-partner-record-full-name"/>
	</action-group>
	
	<action-record name="action-partner-record-get-lead-converted-context" model="com.axelor.apps.base.db.Partner">
		<field name="name" expr="eval:__repo__.of(Lead).find(_parent._lead).name"/>
	</action-record>
	
    
    <action-method name="action-partner-method-show-partner-info">
		<call class="com.axelor.apps.base.web.PartnerController" method="showPartnerInfo"/>
	</action-method>
    
    
    <action-method name="action-partner-method-set-social-network-url">
    	<call class="com.axelor.apps.base.web.PartnerController" method="setSocialNetworkUrl" />
    </action-method>
    

	<action-view name="action-partner-view-sn-profile" title="Profiles" model="com.axelor.apps.socialnetwork.db.SnProfile">
		<view type="form" name="sn-profile-form"/>
		<context name="id" expr="eval: id"/>
	</action-view>
    
	<action-attrs name="action-partner-attrs-change-name">
		<attribute name="title" for="name" expr="Raison sociale" if="partnerTypeSelect != 2"/>
    	<attribute name="title" for="name" expr="Nom" if="partnerTypeSelect == 2"/>
		<attribute name="required" for="name" expr="true"/>	
	</action-attrs>
	
	<action-record name="action-partner-record-partner-type-select" model="com.axelor.apps.base.db.Partner" >
    	<field name="partnerTypeSelect" expr="eval:_partnerTypeSelect"/>
    </action-record>
    
    <action-record name="action-partner-record-full-name" model="com.axelor.apps.base.db.Partner" >
    	<field name="fullName" expr="eval: name + ' ' + firstName" if="name != null &amp;&amp; firstName != null"/>
    	<field name="fullName" expr="eval: name" if="name != null &amp;&amp; firstName == null"/>
    	<field name="fullName" expr="eval: firstName" if="firstName != null &amp;&amp; name == null"/>
    	<field name="fullName" expr="eval: id" if="firstName == null &amp;&amp; name == null"/>
    </action-record>
    
    <action-record name="action-partner-record-customer-supplier-type" model="com.axelor.apps.base.db.Partner">
    	<field name="customerTypeSelect" expr="eval: 1" />
    	<field name="supplierTypeSelect" expr="eval:1"/>
    </action-record>
    
    <action-record name="action-partner-record-set-default" model="com.axelor.apps.base.db.Partner">
    	<field name="currency" expr="eval:__user__.activeCompany?.currency" if="!isContact"/>
    	<field name="invoiceSendingFormatSelect" expr="eval:'emailpaper'" if="!isContact" />
    	<field name="user"  expr="eval:__user__"/>
    	<field name="team"  expr="eval:__user__.activeTeam"/>
    	<field name="companySet" expr="call:com.axelor.apps.base.web.PartnerController:getActiveCompany()"/>
    </action-record>
    
    <action-record name="action-partner-contact-record-default" model="com.axelor.apps.base.db.Partner">
    	<field name="partnerTypeSelect" expr="2" />
    	<field name="isContact" expr="true"/>
    	<field name="companySet" expr="eval: _parent?.companySet"/>
    	<field name="languageSelect" expr="eval: _parent?.languageSelect"/>
    	<field name="user"  expr="eval: _parent.user" if="_parent._model == 'com.axelor.apps.base.db.Partner'"/>
    	<field name="team"  expr="eval: _parent.team" if="_parent._model == 'com.axelor.apps.base.db.Partner'"/>
    	<field name="user"  expr="eval:__user__" if="_parent == null || _parent._model != 'com.axelor.apps.base.db.Partner'"/>
    	<field name="team"  expr="eval:__user__.activeTeam" if="_parent == null || _parent._model != 'com.axelor.apps.base.db.Partner'"/>
    </action-record>
    
    <action-record name="action-partner-set-non-contact-fields" model="com.axelor.apps.base.db.Partner">
    	<field name="currency" expr="eval:null" if="!isContact"/>
    	<field name="invoiceSendingFormatSelect" expr="eval:null" if="!isContact"/>
    </action-record>
	
	<action-method name="action-set-partner-seq" >
		<call class="com.axelor.apps.base.web.PartnerController" method="setPartnerSequence"/>
	</action-method>
    
    <action-method name="action-print-compnay-phonebook" >
		<call class="com.axelor.apps.base.web.PartnerController" method="printCompanyPhonebook"/>
	</action-method>
	
	<action-method name="action-print-phonebook" >
		<call class="com.axelor.apps.base.web.PartnerController" method="printContactPhonebook"/>
	</action-method>
	
	<search-filters name="partner-filters" model="com.axelor.apps.base.db.Partner" title="Partner filters">
		<filter title="All Enterprises">
			<domain>self.partnerTypeSelect = 1 AND self.isContact = false</domain>
		</filter>
		<filter title="All Individuals">
			<domain>self.partnerTypeSelect = 2 AND self.isContact = false</domain>
		</filter>
		<filter title="All Prospects">
			<domain>self.customerTypeSelect = 2 AND self.isContact = false</domain>
		</filter>
		<filter title="All Clients">
			<domain>self.customerTypeSelect = 3 AND self.isContact = false</domain>
		</filter>
		<filter title="All Suppliers">
			<domain>self.supplierTypeSelect = 2 AND self.isContact = false</domain>
		</filter>
		<filter title="All qualified supplier">
			<domain>self.supplierTypeSelect = 3 AND self.isContact = false</domain>
		</filter>
	</search-filters>
	
	
</object-views>
