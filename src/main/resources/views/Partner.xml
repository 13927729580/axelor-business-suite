<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://apps.axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://apps.axelor.com/xml/ns/object-views http://apps.axelor.com/xml/ns/object-views/object-views_0.9.xsd">
    
    <grid name="partner-grid" title="Partners" model="com.axelor.apps.base.db.Partner">
        <field name="name"/>
        <field name="firstName"/>
        <field name="mainInvoicingAddress"/>
        <field name="isContact"/>
   		<field name="partnerTypeSelect"/>
        <field name="partnerCategory"/>
    </grid>
    
    <grid name="partner-contact-grid" title="Contacts" model="com.axelor.apps.base.db.Partner">
        <field name="name"/>
        <field name="firstName"/>
        <field name="mainInvoicingAddress"/>
        <field name="fixedPhone1"/>
		<field name="fixedPhonePro"/>
		<field name="mobilePhonePerso"/>
		<field name="mobilePhonePro"/>
        <field name="email"/>
    </grid>
    
    <form cols="4" colWidths="25*" name="partner-form" title="Partner" model="com.axelor.apps.base.db.Partner" onLoad="action-partner-attrs-change-name,action-partner-attrs-hide-tabs"
      	onNew="action-partner-record-partner-type-select,action-partner-record-set-default">
    	<group colSpan="1">
    		<field name="picture"/>
    	</group>
    	<group colSpan="3" cols="4">
       		<field name="name" css="subtotal-total"/>
			<field name="firstName" hideIf="partnerTypeSelect != 2" css="subtotal-total"/>
       		<break/>
    		<field name="partnerCategory" widget="SuggestBox"/>
       		<field name="partnerTypeSelect" onChange="action-partner-attrs-change-name,action-partner-attrs-hide-tabs"/>
       		<field name="isCustomer"/>
       		<field name="titleSelect" hideIf="partnerTypeSelect != 2"/>
    		<field name="isSupplier" hideIf="partnerTypeSelect == 2"/>
       		<break/>
    	</group>
    	<field name="customerTypeSelect" hideIf="isContact || !isCustomer"/>
    	<field name="supplierTypeSelect" hideIf="isContact || !isSupplier"/>
    	<field name="source" hideIf="isContact"/>
    	<break/>
    	<field name="isContact" hideIf="partnerTypeSelect != 2" onChange="action-partner-set-non-contact-fields,action-partner-attrs-hide-tabs"/>
    	<field name="parentPartner" hideIf="partnerTypeSelect != 1"/>
    	<field name="partnerSeq"/>
    	<field name="languageSelect" hideIf="isContact || partnerTypeSelect == 1"/>
    	<field name="contactPartnerSet" colSpan="4" grid-view="partner-contact-grid" domain="self.isContact = 'true'" hideIf="isContact || partnerTypeSelect == 2"/>

    	<field name="site"/>
    	<field name="department"/>
        <notebook colSpan="4">
        	<page name="information" title="Informations">
				<group title="Postal addresses" colSpan="3" cols="4">
			      	<field name="deliveryAddress" onChange="action-partner-record-main-invoicing-address"/>
					<field name="mainInvoicingAddress"/>
				</group>
				<group title="Contact" colSpan="3" cols="4">
					<field name="site"/>
					<field name="department"/>
					<field name="commune"/>
					<field name="email"/>
					<field name="fax"/>
					<field name="fixedPhone1"/>
					<field name="fixedPhone2"/>
					<field name="fixedPhonePro"/>
					<field name="mobilePhonePerso"/>
					<field name="mobilePhonePro"/>
					<field name="webSite"/>
				</group>
			</page>
			<page title="Links">
				<group colSpan="4" cols="6">
					<button name="showSalesOrder1" title="Voir les devis" onClick="save,action-partner-view-partner-sales-order" colSpan="2" hideIf="isContact"/>
					<button name="showInvoice1" title="Voir les factures" onClick="save,action-partner-view-partner-invoice" colSpan="2" hideIf="isContact"/>
					<button name="showProject1" title="Voir les projets" onClick="save,action-partner-view-partner-project" colSpan="2" hideIf="isContact"/>
				</group>
				<group colSpan="4" cols="6">
					<button name="showSalesOrder2" title="Voir les devis" onClick="save,action-partner-view-contact-sales-order" colSpan="2" showIf="isContact"/>
					<button name="showInvoice2" title="Voir les factures" onClick="save,action-partner-view-contact-invoice" colSpan="2" showIf="isContact"/>
					<button name="showProject2" title="Voir les projets" onClick="save,action-partner-view-contact-project" colSpan="2" showIf="isContact"/>
				</group>
				<portlet action="action-partner-view-partner-event" colSpan="2"/>
				<portlet action="action-partner-view-partner-opportunities" colSpan="2"/>
			</page>
            <page name="payment" title="Invoicing/Payment" cols="4">
            	<field name="invoiceSendingFormatSelect"/>
            	<field name="paymentMode"/>
            	<field name="paymentCondition"/>
            	<field name="currency"/>
                <field name="payerQuality"/>
                <field name="bankDetails"/>
                <field name="bankDetailsList" noLabel="true" colSpan="4" form-view="bank-details-form" grid-view="bank-details-grid"/>
                <button name="showInvoice" title="View all unpaid invoices" colSpan="2" onClick="save,action-partner-method-show-invoice"/>
            </page>
            <page title="ERP Companies associated to">
            	<field name="companySet" widget="TagSelect[create=name]" colSpan="4"/>
            </page>
            <page name="compteClient" title="Customer balance">
            	<field name="accountingSituationList" widget="MasterDetail" colSpan="4" onSelect="action-account-accounting-situation-method-update-customer-account"/>
            </page>
            <page name="reportedBalance" title="Reported balance">
	            <field name="reportedBalanceList" colSpan="4">
			        <grid name="reported-balance-grid" title="Reported balances" model="com.axelor.apps.account.db.ReportedBalance">
				 		<field name="company"/>
				    </grid>
				    <form name="reported-balance-form" title="Reported balance" model="com.axelor.apps.account.db.ReportedBalance" cols="4">
				 		<field name="company"/>
				 		<field name="reportedBalanceLineList" colSpan="4">
				 			<grid name="reported-balance-line-grid" title="Reported balance lines" model="com.axelor.apps.account.db.ReportedBalanceLine">
				 				<field name="year"/>
				 				<field name="amount"/>
				    		</grid>
				 			<form name="reported-balance-line-form" title="Reported balance line" model="com.axelor.apps.account.db.ReportedBalanceLine" cols="4">
				 				<field name="year"/>
				 				<field name="amount"/>
				    		</form>
				 		</field>
				    </form>
		    	</field>
            </page>
        </notebook>
    </form>
    
</object-views>