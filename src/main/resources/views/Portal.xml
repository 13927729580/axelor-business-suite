<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://apps.axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://apps.axelor.com/xml/ns/object-views http://apps.axelor.com/xml/ns/object-views/object-views_2.0.xsd">
	
	<!--  Partner Dashboard  -->
	
	<portal title="Partner Dashboard" name="base.partner.list.portal" cols="2">
	    <portlet action="portal.customers.by.country" height="350" colSpan="1" canSearch="true"/>
	    <portlet action="portal.customers.by.industrySector" height="350" colSpan="1" canSearch="true"/>
	    <portlet action="portal.suppliers.by.country" colSpan="1" height="350"/>
		<portlet action="portal.my.recent.customers" height="350" colSpan="1" canSearch="true"/> 
	    <portlet action="portal.partner.by.saleman" height="350" colSpan="1" canSearch="true"/>
		<portlet action="portal.partner.recent.partners" height="350" colSpan="1" canSearch="true"/>	
		<portlet action="portal.my.customers" height="350" colSpan="1" canSearch="true"/>	
		<portlet colSpan="1" height="350" action="portal.prospects.by.country" canSearch="true"/> 
		<portlet colSpan="1" height="350" action="portal.prospects.by.industrySector" canSearch="true"/>
		<portlet colSpan="1" height="350" action="portal.my.prospects" canSearch="true"/>
  	</portal>
			
	<action-view name="portal.my.recent.customers" title="My Recent Customers" model="com.axelor.apps.base.db.Partner">
		<view type="grid" name="partner-grid"/>
		<view type="form" name="partner-form"/>
		<domain>self.updatedOn &gt;= date(now())-30 AND self.userInfo=:user_info AND self.customerTypeSelect=3</domain>
	 	<context name="user_info" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfo()"/>
	</action-view>
	
	<action-view name="portal.partner.by.saleman" title="Customers by saleman" model="com.axelor.apps.base.db.Partner">
		<view type="grid" name="partner-grid-group"/>
		<view type="form" name="partner-form"/>
		<domain>self.customerTypeSelect=3</domain>
	</action-view>
	
	<action-view name="portal.partner.recent.partners" title="Recently created partners" model="com.axelor.apps.base.db.Partner" >
    	<view type="grid" name="partner-grid"/>
    	<view type="form" name="partner-form"/>
    	<domain>self.createdOn &gt;= date(now())-15</domain>
	</action-view>
	
	<action-view name="portal.my.customers" title="My Customers" model="com.axelor.apps.base.db.Partner">
		<view type="grid" name="partner-grid"/>
		<view type="form" name="partner-form"/>
		 <domain>self.userInfo = :userInfoId AND self.customerTypeSelect=3</domain>
		 <context name="userInfoId" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfo()"/>
	</action-view>
	
	<action-view name="portal.customers.by.industrySector" title="Partners by Industry Sector" model="com.axelor.apps.base.db.Partner">
		<view type="chart" name="chart.customers.by.industrySector.bar" />
	</action-view>
	
	<action-view name="portal.customers.by.country" title="Customers by country" model="com.axelor.apps.base.db.Partner">
		<view type="chart" name="chart.customers.by.country.bar"/>
	</action-view>
	
	<action-view name="portal.suppliers.by.country" title="Suppliers by country" model="com.axelor.apps.base.db.Partner">
	  <view type="chart" name="chart.suppliers.by.country.bar"/>
	</action-view>
		
	<action-view title="Prospects by country" model="com.axelor.apps.base.db.Partner" name="portal.prospects.by.country">
	  <view type="chart" name="chart.partner.prospects.by.country"/>
	</action-view>
	
	<action-view title="Prospects by Industry Sector" model="com.axelor.apps.base.db.Partner" name="portal.prospects.by.industrySector">
  		<view type="chart" name="chart.partner.prospects.by.industrySector"/>
  		<context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/> 
	</action-view>
  	  	
	<action-view title="My Prospects" model="com.axelor.apps.base.db.Partner" name="portal.my.prospects">
		  <view type="grid" name="partner-grid"/>
		  <view type="form" name="partner-form"/>
		  <domain>self.userInfo = :userInfo AND self.customerTypeSelect=2 AND :activeCompanyId MEMBER OF self.companySet</domain>
		  <context name="userInfo" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfo()"/>
		  <context name="activeCompanyId" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompanyId()"/>  
	</action-view>
  	
</object-views>