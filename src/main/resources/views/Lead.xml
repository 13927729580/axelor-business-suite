<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://apps.axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://apps.axelor.com/xml/ns/object-views http://apps.axelor.com/xml/ns/object-views/object-views_0.9.xsd">
    
    <grid name="lead-grid" title="Leads" model="com.axelor.apps.crm.db.Lead">
        <field name="name"/>
        <field name="firstName"/>
        <field name="statusSelect"/>
        <field name="contactDate"/>
        <field name="expectedCloseDate"/>
        <field name="campaign"/>
    </grid>
    
    <form name="lead-form" title="Lead" model="com.axelor.apps.crm.db.Lead" cols="4"
    	onNew="action-account-record-new">
    	<group title="Informations" colSpan="4">
	        <field name="titleSelect"/>
	        <field name="name"/>
	        <field name="firstName"/>
	        <field name="officeName"/>
	        <field name="title"/>
	        <field name="mobile"/>
	        <field name="department"/>
	        <field name="fax"/>
	        <field name="enterpriseName"/>
	        <field name="webSite"/>
	        <field name="email"/>
	        <field name="description" widget="TEXT[height=3]"/>
	        <field name="contactDate"/>
	        <group title="Détails Status" colSpan="2" cols="2" css="groupTitle">
	        	<field name="statusSelect"/>
	        	<field name="statusDescription"/>
	        </group>
	        <group title="Détails Description" colSpan="2" cols="2" css="groupTitle">
	        	<field name="source"/>
	        	<field name="sourceDescription"/>
	        </group>
	        <field name="campaign"/>
	        <field name="referredBy"/>
	        <field name="isDoNotCall"/>
	        <button name="convertLead" title="Convert lead" onClick="action-lead-method-convert-lead"/>
        </group>
        <group title="Assignment" canCollapse="true">
	        <field name="userInfo"/>
	    	<field name="team"/>
        </group>
    </form>
    
    <action-record name="action-lead-record-new" model="com.axelor.apps.crm.db.Lead">
    	<field name="company"  expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>
    </action-record>
    
    <action-method name="action-lead-method-convert-lead">
		<call class="com.axelor.apps.crm.web.LeadController" method="convertLead"/>
    </action-method>
    
</object-views>
