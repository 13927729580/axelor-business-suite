<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://apps.axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://apps.axelor.com/xml/ns/object-views http://apps.axelor.com/xml/ns/object-views/object-views_0.9.xsd">

	<grid name="discount-engine-model-grid" title="Discount engine models"
		model="com.axelor.apps.account.db.DiscountEngineModel">
	  	<field name="fluid" />
	  	<field name="elecRange" />
	  	<field name="pricingOption" />
	</grid>

	<form name="discount-engine-model-form" title="Discount engine model"
		model="com.axelor.apps.account.db.DiscountEngineModel" cols="6">
	  	<field name="fluid" />
	  	<field name="elecRange" />
	  	<field name="pricingOption" />
	  	<field name="discountEngineLineList" grid-view="discount-engine-line-model-internal-grid" form-view="discount-engine-line-model-internal-form" colSpan="6"/>
	</form>

	<grid name="discount-engine-line-model-internal-grid" title="Discounts"
		model="com.axelor.apps.account.db.DiscountEngineLine">
		<field name="discountTypeSelect" />
		<field name="discountValue" />
		<field name="singleApplicationOk" />
		<field name="referenceDateSelect" />
		<field name="fromDate" />
		<field name="toDate" />
	</grid>

	<form name="discount-engine-line-model-internal-form" title="Discount"
		model="com.axelor.apps.account.db.DiscountEngineLine" cols="4"
		onLoad="discount-engine-attrs-all-category,discount-engine-attrs-product-category,discount-engine-attrs-same-category,discount-engine-attrs-product-reference-date,discount-engine-attrs-single-application,discount-engine-attrs-new-line"
		onNew="discount-engine-record-all-category,discount-engine-attrs-all-category,discount-engine-attrs-same-category,discount-engine-attrs-product-category,discount-engine-attrs-product-reference-date,discount-engine-attrs-single-application,discount-engine-attrs-new-line">
		<field name="activeOk" />
		<field name="singleApplicationOk"
			onChange="discount-engine-attrs-single-application,discount-engine-method-final-condition" />
		<field name="discountTypeSelect" onChange="discount-engine-record-discount-type,discount-engine-attrs-discount-type"/>
		<field name="newLineOk" onChange="discount-engine-attrs-new-line"/>
		<field name="discountValue" />
		<field name="priceDiscountOk" />
		<field name="discountProduct" />
		<field name="sameProductOk" onChange="discount-engine-attrs-same-category" />
		<notebook colSpan="4">
			<page title="Configuration">
				<field name="referenceDateSelect"
					onChange="discount-engine-attrs-product-reference-date,discount-engine-method-final-condition" />
				<field name="allCategoriesOk"
					onChange="discount-engine-attrs-all-category,discount-engine-method-final-condition" />
				<group name="dateGroup" colSpan="4">
					<field name="fromDate" onChange="discount-engine-method-final-condition" />
					<field name="toDate" onChange="discount-engine-method-final-condition" />
				</group>
				<field name="productCategorySet"
					onChange="discount-engine-attrs-product-category,discount-engine-method-final-condition"
					colSpan="4" />
				<field name="productSet" onChange="discount-engine-method-final-condition"
					colSpan="2" />
				<field name="postParameterSet" domain="self.parameterType.code = 'poste'" onChange="discount-engine-method-final-condition"
					colSpan="2" />
			</page>
			<page name="contractLinePage" title="Contracts">
				<field name="contractLineSet" colSpan="4" />
			</page>
			<page title="Final applying condition" >
				<field name="finalCondition" showTitle="false" colSpan="4" widget="CodeEditor[syntax=groovy]" />
			</page>
		</notebook>
	</form>

	<form name="discount-engine-line-contract-line-form" title="Discount"
		model="com.axelor.apps.account.db.DiscountEngineLine" cols="4"
		onLoad="discount-engine-attrs-all-category,discount-engine-attrs-product-category,discount-engine-attrs-same-category,discount-engine-attrs-product-reference-date,discount-engine-attrs-single-application,discount-engine-attrs-new-line"
		onNew="discount-engine-record-all-category,discount-engine-attrs-all-category,discount-engine-attrs-same-category,discount-engine-attrs-product-category,discount-engine-attrs-product-reference-date,discount-engine-attrs-single-application,discount-engine-attrs-new-line">
		<field name="code" required="true"/>
		<field name="activeOk" />
		<field name="discountEngineId" required="true"/>
		<field name="singleApplicationOk"
			onChange="discount-engine-attrs-single-application,discount-engine-method-final-condition" />
		<field name="discountTypeSelect" onChange="discount-engine-record-discount-type,discount-engine-attrs-discount-type"/>
		<field name="newLineOk" onChange="discount-engine-attrs-new-line"/>
		<field name="discountValue" />
		<field name="priceDiscountOk" />
		<field name="discountProduct" />
		<field name="sameProductOk" onChange="discount-engine-attrs-same-category" />
		<notebook colSpan="4">
			<page title="Configuration">
				<field name="referenceDateSelect"
					onChange="discount-engine-attrs-product-reference-date,discount-engine-method-final-condition" />
				<field name="allCategoriesOk"
					onChange="discount-engine-attrs-all-category,discount-engine-method-final-condition" />
				<group name="dateGroup" colSpan="4">
					<field name="fromDate" onChange="discount-engine-method-final-condition" />
					<field name="toDate" onChange="discount-engine-method-final-condition" />
				</group>
				<field name="productCategorySet"
					onChange="discount-engine-attrs-product-category,discount-engine-method-final-condition"
					colSpan="4" />
				<field name="productSet" onChange="discount-engine-method-final-condition"
					colSpan="2" />
				<field name="postParameterSet" domain="self.parameterType.code = 'poste'" onChange="discount-engine-method-final-condition"
					colSpan="2" />
			</page>
			<page name="contractLinePage" title="Contracts">
				<field name="contractLineSet" colSpan="4" />
			</page>
			<page title="Final applying condition" >
				<field name="finalCondition" showTitle="false" colSpan="4" widget="CodeEditor[syntax=groovy]" />
			</page>
		</notebook>
	</form>

</object-views>