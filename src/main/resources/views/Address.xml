<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://apps.axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://apps.axelor.com/xml/ns/object-views http://apps.axelor.com/xml/ns/object-views/object-views_2.0.xsd">
	
	<grid name="address-grid" title="Address list" model="com.axelor.apps.base.db.Address">
		<field name="fullName" />
		<button name="map" icon="fa-map-marker" help="Locate" onClick="com.axelor.apps.base.web.AddressController:viewMap,save" />
		<button name="directions" icon="fa-location-arrow" help="Direction" onClick="com.axelor.apps.base.web.AddressController:directionsMap" />
	</grid>
	
	<form name="address-form" title="Address" model="com.axelor.apps.base.db.Address"
		cols="2" colWidths="*,200"
		onNew="default-address-record">
		<group name="main" title="Address details" cols="1" colSpan="1">
			<group colSpan="4" cols="2" colWidths="25%,*">
				<field name="addressL2" />
				<field name="addressL3" />
				<field name="addressL4" />
				<field name="addressL5" />
				<field name="addressL6" required="true" />
				<field name="addressL7Country" required="true" />
				<field name="inseeCode"/>
				<field name="latit" />
				<field name="longit" />
			</group>
		</group>
		<group name="actions" title="Actions" cols="1" colSpan="1" hideIf="$popup()">
			<button name="map" title="View map" icon="fa-map-marker"
				onClick="com.axelor.apps.base.web.AddressController:viewMap,save" />
			<button name="directions" title="Get directions" icon="fa-location-arrow"
				onClick="com.axelor.apps.base.web.AddressController:directionsMap" />
		</group>
		<group colSpan="2" cols="4" title="QAS certification" >
			<field name="certifiedOk"/>
			<break/>
			<button name="validate" title="Validate" colSpan="2" 
				onClick="com.axelor.apps.base.web.AddressController:validate,save" />
			<button name="select" title="Choose" colSpan="2" 
				onClick="com.axelor.apps.base.web.AddressController:select,save" />
			<field name="pickList" colSpan="4" showTitle="false">
				<grid title="Pick list">
					<field name="partialAddress"/>
					<field name="postcode"/>
					<field name="score"/>
				</grid>
			</field>
		</group>
	</form>

	<action-record name="default-address-record" model="com.axelor.apps.base.db.Address">
		<field name="addressL7Country" expr="action:default-address-country-record" />
	</action-record>

	<action-record name="default-address-country-record"
		model="com.axelor.apps.base.db.Country" search="('self.code LIKE ?1', 'FRA')">
		<field name="code" expr="FRA" />
		<field name="name" expr="FRANCE" />
	</action-record>
</object-views>