<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://apps.axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://apps.axelor.com/xml/ns/object-views http://apps.axelor.com/xml/ns/object-views/object-views_0.9.xsd">
    
    <grid name="project-grid" title="Affairs/Projects" model="com.axelor.apps.organisation.db.Project">
        <field name="clientPartner"/>
        <field name="contactPartner"/>
        <field name="affairName"/>
        <field name="isModel"/>
    </grid>
    
    <form name="project-form" title="Affair/Project" model="com.axelor.apps.organisation.db.Project" cols="6" >
    	<group noLabel="true" colSpan="4">
    	 	<field name="responsibleUserInfo"/>
	        <field name="clientPartner"/>
	        <field name="contactPartner"/>
	        <field name="affairName"/>
	        <field name="isModel"/>
	        <field name="isReinvoicingExpense"/>
	        <field name="isReinvoicingTime"/>
	        <field name="isTimeSheetImputable"/>
	        <field name="defaultTask" hideIf="!isTimeSheetImputable"/>
	        <field name="parentProject"/>
			<field name="projectModel"/>
    	</group>
    	<group noLabel="true" colSpan="2" title="Actions">
    		<button name="createSalesOrder" title="Create quote" colSpan="2"/>
    		<button name="generateNewInstanceOfProject" title="Generate new project instance" hideIf="!isModel" colSpan="2"/>
    		<button name="generateDraftInvoice" title="Generate draft invoice" colSpan="2"/>
    		<button name="showTask" title="Voir les tâches" onClick="action-project-view-task"/>
    	</group>
		<notebook colSpan="6">
	        <page title="Les tâches">
	            <field name="taskList" colSpan="6"/>
	        </page>
	        <page title="Financial information" colSpan="4">
	            <group title="Initial Budget" colSpan="6" cols="6">
					<field name="initialBudgetTurnover"/>
					<field name="initialBudgetCost"/>
					<field name="initialBudgetMargin"/>
				</group>
				<group title="Realized" colSpan="6" cols="6">
					<field name="realizedTurnover"/>
					<field name="realizedBudgetCost"/>
					<field name="realizedBudgetMargin"/>
				</group>
				<group title="Remaining to do" colSpan="6" cols="6">
					<field name="remainingTurnover"/>
					<field name="remainingBudgetCost"/>
					<field name="remainingBudgetMargin"/>
				</group>
				<group title="Estimated final" colSpan="6" cols="6">
					<field name="expectedFinalTurnover"/>
					<field name="expectedFinalCost"/>
					<field name="expectedFinalMargin"/>
				</group>
				<group colSpan="6" cols="6">
					<field name="plannedTime"/>
					<field name="spentTime"/>
					<field name="remainingTime"/>
					<field name="budgetedExpenses"/>
					<field name="incurredExpenses"/>
					<field name="remainingExpenses"/>
				</group>
	        </page>
	        <page title="Responsable / Membres" colSpan="4">
				<field name="memberUserInfoSet" colSpan="6"/>
	        </page>
	    </notebook>
    </form>
    
    
    <action-view name="action-project-view-task" title="Les tâches" model="com.axelor.apps.organisation.db.Task">
		<view type="grid" name="task-grid"/>
		<view type="form" name="task-form"/>
		<domain>self.project = :id</domain>
	</action-view>
    
    
</object-views>