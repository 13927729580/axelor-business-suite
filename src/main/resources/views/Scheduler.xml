<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://apps.axelor.com/xml/ns/object-views" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://apps.axelor.com/xml/ns/object-views http://apps.axelor.com/xml/ns/object-views/object-views_0.9.xsd">

    <grid name="scheduler-grid" title="Schedulers" model="com.axelor.apps.base.db.Scheduler">
        <field name="name"/>
    </grid>
	
	<form name="scheduler-form" title="Scheduler" model="com.axelor.apps.base.db.Scheduler" cols="4"
		onSave="scheduler-validate-infos" >
	    <field name="name" colSpan="2"/>
	    <break/>
	    <group name="header" showTitle="false" colSpan="3" cols="4">
	    	<group colSpan="1" cols="2" title="Frequency">
		    	<field name="daily" colSpan="2" onChange="scheduler-onChange-daily"/>
		    	<field name="weekly" colSpan="2" onChange="scheduler-onChange-weekly"/>
		    	<field name="monthly" colSpan="2" onChange="scheduler-onChange-monthly"/>
		    	<field name="annually" colSpan="2" onChange="scheduler-onChange-annually"/>
		    </group>
		    <group colSpan="3" cols="4" showTitle="false">
		    	<group name="dailyGroup" showTitle="false" hideIf="!daily" >
		            <separator title="Quotidienne" colSpan="4"/> 
		    		<field title="Every" name="dayDaily" colSpan="1" />
		    		<label title="day(s)"/>
		    	</group>
		    	<group name="weeklyGroup" showTitle="false" hideIf="!weekly">
		            <separator title="Weekly" colSpan="4"/> 
		    		<field title="Every" name="weekWeekly" colSpan="1"/>
		    		<label title="week(s)"/>
		    		<break/>
		    		<label title="On :" colSpan="1"/>
		    		<group showTitle="false" colSpan="5" >
			    		<field name="monday" />
					    <field name="tuesday" />
					    <field name="wednesday" />
					    <field name="thursday" />
					    <field name="friday" />
					    <field name="saturday" />
					    <field name="sunday" />
				    </group>
		    	</group>
		    	<group cols="5" name="monthlyGroup" showTitle="false" hideIf="!monthly">
		            <separator title="Monthly" colSpan="4"/> 
		            <break/>
		    		<field title="On" name="dayMonthly" colSpan="1"/>
		    		<field title="Every" name="monthMonthly" colSpan="1"/>
		    		<label title="month"/>
		    	</group>
		    	<group name="annuallyGroup" showTitle="false" hideIf="!annually">
		            <separator title="Annually" colSpan="4"/> 
		    		<field title="Every" name="yearAnnually"/>
		    		<label title="year(s)"/>
		    		<break/>
		    		<field name="dayAnnually" title="Le"/>
		    		<field showTitle="false" name="monthAnnuallySelect"/>
		    	</group>
		    </group>
	    </group>
	</form>

	<action-record name="scheduler-onChange-daily" model="com.axelor.apps.base.db.Scheduler">
		<field name="weekly" expr="eval: false"/>
		<field name="monthly" expr="eval: false"/>
		<field name="annually" expr="eval: false"/>
	</action-record>
	
	<action-record name="scheduler-onChange-monthly" model="com.axelor.apps.base.db.Scheduler">
		<field name="weekly" expr="eval: false"/>
		<field name="daily" expr="eval: false"/>
		<field name="annually" expr="eval: false"/>
	</action-record>
	
	<action-record name="scheduler-onChange-annually" model="com.axelor.apps.base.db.Scheduler">
		<field name="weekly" expr="eval: false"/>
		<field name="monthly" expr="eval: false"/>
		<field name="daily" expr="eval: false"/>
	</action-record>
	
	<action-record name="scheduler-onChange-weekly" model="com.axelor.apps.base.db.Scheduler">
		<field name="daily" expr="eval: false"/>
		<field name="monthly" expr="eval: false"/>
		<field name="annually" expr="eval: false"/>
	</action-record>
	
	<action-validate name="scheduler-validate-infos">
		<error message="Please enter a frequency." if="!daily &amp;&amp; !weekly &amp;&amp; !monthly &amp;&amp; !annually"/>
		<error message="Please enter a day for rhythm." if="daily &amp;&amp; !dayDaily"/>
		<error message="Please enter a day for rhythm." if="weekly &amp;&amp; !weekWeekly"/>
		<error message="Please enter a day of week for rhythm." if="weekly &amp;&amp; (!monday &amp;&amp; !tuesday &amp;&amp; !wednesday &amp;&amp; !thursday &amp;&amp; !friday &amp;&amp; !saturday &amp;&amp; !sunday)"/>
		<error message="Please enter a day for rhythm." if="monthly &amp;&amp; !dayMonthly"/>
		<error message="Please enter a month for rhythm." if="monthly &amp;&amp; !monthMonthly"/>
		<error message="Please enter a year for rhythm." if="annually &amp;&amp; !yearAnnually"/>
		<error message="Please enter a month for rhythm." if="annually &amp;&amp; !monthAnnually"/>
		<error message="Please enter a day of month for rhythm." if="annually &amp;&amp; !dayAnnually"/>
	</action-validate>
	
</object-views>
