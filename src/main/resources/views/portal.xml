<?xml version="1.0" encoding="UTF-8"?>
<object-views xmlns="http://apps.axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://apps.axelor.com/xml/ns/object-views http://apps.axelor.com/xml/ns/object-views/object-views_2.0.xsd">
	
		<!-- SALES MAN DASHBOARD -->
		
	<portal title="Dashboard" name="supplychain.salesman.dashboard.portal.sample" cols="2">
		<portlet action="portal.salesman.dashboard.orders" height="350" canSearch="true" />
		<portlet action="portal.my.turnover.per.month" height="350" />
		<portlet action="portal.salesman.dashboard.leads" canSearch="true" height="350" />
		<portlet action="portal.salesman.dashboard.activities" canSearch="true" height="350" />
		<portlet action="portal.salesman.dashboard.opportunities" canSearch="true" height="350" />
	</portal>
	
	<action-view name="portal.salesman.dashboard.orders" title="My Sales Orders" model="com.axelor.apps.supplychain.db.SalesOrder">
	  <view type="grid" name="sales-order-grid"/>
	  <view type="form" name="sales-order-form"/>
	  <domain>self.salesmanUserInfo = :user_info and self.statusSelect in (1, 2) and self.company = :active_company</domain>
	  <context name="user_info" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfo()"/>
	  <context name="active_company" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>
	</action-view>
	
	<action-view title="My Turnover per month" name="portal.my.turnover.per.month">
	  <view type="chart" name="chart.my.turnover.per.month"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()" />
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()" />
	</action-view>
	
	<action-view name="portal.salesman.dashboard.leads" title="My Current Leads" model="com.axelor.apps.crm.db.Lead">
	  <view type="grid" name="my-lead-grid"/>
	  <view type="form" name="lead-form"/>
	  <domain>self.userInfo = :user_info and self.updatedOn >= :fromDate and self.updatedOn &lt;= :todayDate</domain>
	  <context name="user_info" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfo()"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
	  <context name="fromDate" expr="eval:todayDate.minusMonths(1)"/>  
	</action-view>
	
	<action-view name="portal.salesman.dashboard.activities" title="My Today Activities"
		model="com.axelor.apps.crm.db.Event">
		<view type="grid" name="my-event-grid"/>
		<view type="form" />
	    <domain>self.startDateTime between :_today and :_tomorrow and self.userInfo =:_activeUser</domain>
	    <context name="_tomorrow" expr="eval: __date__.plusDays(1).toDateTimeAtStartOfDay()"/>
	    <context name="_today" expr="eval: __date__.toDateTimeAtStartOfDay()"/>
	    <context name="_activeUser" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfo()" />
	</action-view>
	
	<action-view name="portal.salesman.dashboard.opportunities" title="My Opportunities" model="com.axelor.apps.crm.db.Opportunity">
	  <view type="grid" name="my-opportunity-grid"/>
	  <view type="form" name="opportunity-form"/>
	  <domain>self.userInfo = :user_info</domain>
	  <context name="user_info" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfo()"/>
	</action-view>
	
	
	
	<!-- 	SALES MANAGER DASHBOARD -->
	
	<portal title="Dashboard" name="supplychain.sales.manager.dashboard.portal.sample" cols="2">
		<portlet action="portal.sales.turnover.ytd.vs.previous.years.by.month" height="350"/>
		<portlet action="portal.sales.turnover.ytd.vs.past.year" height="350"/>  	
		<portlet action="portal.sales.turnover.by.product.ytd.vs.lastyear" height="350"/>
		<portlet action="portal.sales.turnover.ytd.vs.lastyear.by.family" height="350" />
		<portlet action="portal.sales.turnover.by.family.ytd.vs.lastyear" height="350" />		
		<portlet action="portal.sales.manager.dashboard.turnover.per.team" height="350" />
		<portlet action="portal.sales.manager.dashboard.turnover.per.salesman" height="350" />
		<portlet action="portal.sales.manager.dashboard.sales.distribution.per.family" height="350" />
		<portlet action="portal.sales.manager.dashboard.product.sales.per.category" height="350" />
		<portlet action="portal.sales.manager.dashboard.sales.per.country" height="350" />
		<portlet action="portal.turnover.sales.by.month.by.category" height="350" />    
   	    <portlet action="portal.units.sold.on.cust.sales.by.category" height="350" />
   	    <portlet action="portal.stockMove.nbr.delivery.by.country" height="350"/>  
   	    <portlet action="portal.stockMoveLine.product.delivery.by.country" height="350"/>  
   	    <portlet action="portal.stockMoveLine.product.delivery.by.country.by.family" height="350"/> 
   	    <portlet action="portal.stockMove.deliveries.time.delay.in.nbr" height="350"/>
   	    <portlet action="portal.stockMove.average.delivery.time.delay" height="350"/> 
	</portal>
	
	<action-view title="Sales turnover comparison per month this year vs past years" model="com.axelor.apps.supplychain.db.SalesOrder" name="portal.sales.turnover.ytd.vs.previous.years.by.month">
	  <view type="chart" name="chart.sales.turnover.ytd.vs.previous.years.by.month"/>
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
	</action-view>

	<action-view name="portal.sales.turnover.ytd.vs.lastyear" title="Sales Turnover This year vs Last year" model="com.axelor.apps.supplychain.db.SalesOrder">
	    <view type="chart" name="chart.sales.turnover.ytd.vs.lastyear"/>
	    <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>
	</action-view>
	
	<action-view title="Sales turnover this year vs past years" model="com.axelor.apps.supplychain.db.SalesOrder" name="portal.sales.turnover.ytd.vs.past.year">
	  <view type="chart" name="chart.sales.turnover.ytd.vs.past.year"/>
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
	</action-view>
	
	<action-view name="portal.sales.turnover.by.product.ytd.vs.lastyear" title="Sales TurnOver by Product this year vs last year" model="com.axelor.apps.supplychain.db.SalesOrder">
	    <view type="chart" name="chart.sales.turnover.by.product.ytd.vs.lastyear"/>
	    <domain>self.company=:active_company</domain>
	    <context name="active_company" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()" />
	</action-view>
	
	<action-view name="portal.sales.turnover.ytd.vs.lastyear.by.family" title="Sales Turnover YTD vs Last year by Product Family" model="com.axelor.apps.supplychain.db.SalesOrderLine">
	  <view type="chart" name="chart.sales.turnover.ytd.vs.lastyear.by.family"/>
	  <domain>self.salesOrder.company=:active_company</domain>
	  <context name="active_company" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()" />
	</action-view>
	
	<action-view name="portal.sales.turnover.by.family.ytd.vs.lastyear" title="Product Family Sales Turnover this year vs last year" model="com.axelor.apps.supplychain.db.SalesOrderLine">
	  <view type="chart" name="chart.sales.turnover.by.family.ytd.vs.lastyear"/>
	  <domain>self.salesOrder.company=:active_company</domain>
	  <context name="active_company" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()" />
	</action-view>

	<action-view name="portal.sales.manager.dashboard.turnover.per.team" title="Turnover (excl. Tax) per team">
	  <view type="chart" name="chart.sales.manager.dashboard.turnover.per.team"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()" />
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>
	</action-view>
	
	<action-view name="portal.sales.manager.dashboard.turnover.per.salesman" title="Turnover (excl. Tax) per salesman">
	  <view type="chart" name="chart.sales.manager.dashboard.turnover.per.salesman"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()" />
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>
	</action-view>
	
	<action-view name="portal.sales.manager.dashboard.sales.distribution.per.family" title="Sales distribution per product family">
	  <view type="chart" name="chart.sales.manager.dashboard.sales.distribution.per.family"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()" />
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>
	</action-view>
	
	<action-view name="portal.sales.manager.dashboard.product.sales.per.category" title="Sales distribution per product category">
	  <view type="chart" name="chart.sales.manager.dashboard.product.sales.per.category"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()" />
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>
	</action-view>
	
	<action-view name="portal.sales.manager.dashboard.sales.per.country" title="Sales per country">
	  <view type="chart" name="chart.sales.manager.dashboard.sales.per.country"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()" />
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>
	</action-view>
	
	<action-view name="portal.turnover.sales.by.month.by.category" title="Sales Turnover (Orders) by month by category">
	  <view type="chart" name="chart.turnover.sales.by.month.by.category"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()" />
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>
	</action-view>
	
	<action-view name="portal.units.sold.on.cust.sales.by.category" title="Nbr of Units sold (Orders) by category">
	  <view type="chart" name="chart.units.sold.on.cust.sales.by.category"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()" />
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>
	</action-view>
 		
	<action-record model="com.axelor.apps.supplychain.db.SalesOrder" name="action.supplychain.portal.default.month.value">
	  <field name="monthSelect" expr="eval:12"/>
	</action-record>
	
	<action-view title="Customer deliveries by country" name="portal.stockMove.nbr.delivery.by.country">
	  <view type="chart" name="chart.stockMove.nbr.delivery.by.country"/>
	  <context name="activeCompany" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()" />
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()" />
	</action-view>
	
	<action-view title="Product deliveries in qty by country" name="portal.stockMoveLine.product.delivery.by.country">
	  <view type="chart" name="chart.stockMoveLine.product.delivery.by.country"/>
	  <context name="activeCompany" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()" />
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()" />
	</action-view>
	
	<action-view title="Product deliveries in qty by country by family" name="portal.stockMoveLine.product.delivery.by.country.by.family">
	  <view type="chart" name="chart.stockMoveLine.product.delivery.by.country.by.family"/>
	  <context name="activeCompany" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()" />
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()" />
	</action-view>
	
	<action-view title="Customer deliveries statistics" name="portal.stockMove.deliveries.time.delay.in.nbr">
	  <view type="chart" name="chart.stockMove.deliveries.time.delay.in.nbr"/>  
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()" />
	  <context name="id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()" />
	</action-view>
	
	<action-view title="Customer average delivery delay" name="portal.stockMove.average.delivery.time.delay">
	  <view type="chart" name="chart.stockMove.average.delivery.time.delay"/>  
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()" />
	  <context name="id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()" />
	</action-view>

<!--   	Purchase Buyer Dashboard -->
	
	<portal title="Dashboard" name="supplychain.purchase.buyer.dashboard.portal.sample" cols="2">
		<portlet action="portal.purchase.buyer.dashboard.validated.orders" height="350" canSearch="true" />
		<portlet action="portal.purchase.buyer.dashboard.orders" canSearch="true" height="350" />
		<portlet action="portal.purchase.buyer.dashboard.order.to.validate" canSearch="true" height="350" />
		<portlet action="portal.my.purchases.per.product.family.volume" height="350"/>
	    <portlet action="portal.my.purchase.amount.per.product.family" height="350"/>
		<portlet action="portal.purchase.amount.per.product.family" canSearch="true" height="350"/>
		<portlet action="portal.nbr.of.po.per.month"  canSearch="true" height="350" />
		<portlet action="portal.total.purchase.amount" canSearch="true" height="350"/>
		<portlet action="portal.total.purchase.qty" canSearch="true" height="350"/>
	</portal>


	<action-view name="portal.purchase.buyer.dashboard.validated.orders" title="My Validated POs"
		model="com.axelor.apps.supplychain.db.PurchaseOrder">
		<view type="grid" name="my-purchase-order-grid" />
		<view type="form" name="purchase-order-form" />
		<domain>self.buyerUserInfo =:_user_info and self.company = :_active_company and self.statusSelect = 4</domain>
    	<context name="_user_info" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfo()" /> 
    	<context name="_active_company" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>
	</action-view>
	
	<action-view name="portal.purchase.buyer.dashboard.orders" title="My Purchase Orders"
		model="com.axelor.apps.supplychain.db.PurchaseOrder">
		<view type="grid" name="my-purchase-order-grid" />
		<view type="form" name="purchase-order-form" />
		<domain>self.buyerUserInfo =:_user_info and self.company = :_active_company</domain>
    	<context name="_user_info" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfo()" />
    	<context name="_active_company" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/> 
	</action-view>

	<action-view name="portal.purchase.buyer.dashboard.order.to.validate" title="My RFQs and POs To Validate (Requested &amp; Received)"
		model="com.axelor.apps.supplychain.db.PurchaseOrder">
		<view type="grid" name="my-purchase-order-grid" />
		<view type="form" name="purchase-order-form" />
		<domain>self.buyerUserInfo =:_user_info and self.statusSelect in (2,3) and self.company =:_active_company</domain>
    	<context name="_user_info" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfo()" /> 
    	<context name="_active_company" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>
	</action-view>
	
	<action-view name="portal.my.purchases.per.product.family.volume" title="My purchased qty by product family"
		model="com.axelor.apps.supplychain.db.PurchaseOrder">
	  <view type="chart" name="chart.my.purchases.per.product.family.volume"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
	  <context name="activeUser" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfo()"/>
	  <context name="activeCompany" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>
	</action-view>

	<action-view name="portal.my.purchase.amount.per.product.family" title="My purchased amount by product family"
		model="com.axelor.apps.supplychain.db.PurchaseOrder">
	  <view type="chart" name="chart.my.purchase.amount.per.product.family"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
	  <context name="activeUser" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfo()"/>
	  <context name="activeCompany" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>
	</action-view>

	<action-view name="portal.purchase.amount.per.product.family" title="Purchased amount by product family"
		model="com.axelor.apps.supplychain.db.PurchaseOrder">
	  <view type="chart" name="chart.purchase.amount.per.product.family"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
	  <context name="activeCompany" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>
	</action-view>

	<action-view name="portal.nbr.of.po.per.month" title="Nbr of PO by month" model="com.axelor.apps.supplychain.db.PurchaseOrder">
	  <view type="chart" name="chart.nbr.of.po.per.month"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>
	</action-view>
	
	<action-view name="portal.total.purchase.amount" title="Total Purchased Amount by month" model="com.axelor.apps.supplychain.db.PurchaseOrder">
	  <view type="chart" name="chart.total.purchase.amount"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>
	</action-view>	
	
	<action-view name="portal.total.purchase.qty" title="Total Purchased Qty by month" model="com.axelor.apps.supplychain.db.PurchaseOrder">
	  <view type="chart" name="chart.total.purchase.qty"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>
	</action-view>

	
	<!-- 	Purchase Manager Dashboard -->
	
	
	<portal title="Dashboard" name="supplychain.purchase.manager.dashboard.portal.sample" cols="2">
		<portlet action="portal.purchase.manager.dashboard.validated.orders" height="350" canSearch="true" />
		<portlet action="portal.purchase.manager.dashboard.order.to.validate" canSearch="true" height="350" />
		<portlet action="portal.purchase.order.volume.by.buyer.by.family" height="350"/>
	    <portlet action="portal.purchase.order.amount.by.family" height="350"/>
	    <portlet action="portal.purchase.order.amount.distribution.by.family" height="350"/>
		<portlet action="portal.50.latest.supplier.orders" canSearch="true" height="350"/>
	</portal>

	<action-view name="portal.purchase.manager.dashboard.validated.orders" title="Current Purchase Orders"
		model="com.axelor.apps.supplychain.db.PurchaseOrder">
		<view type="grid" name="purchase-order-grid" />
		<view type="form" name="purchase-order-form" />
		<domain>self.statusSelect in (4,5)</domain>
	</action-view>

	<action-view name="portal.purchase.manager.dashboard.order.to.validate" title="RFQ And PO To Validate"
		model="com.axelor.apps.supplychain.db.PurchaseOrder">
		<view type="grid" name="purchase-order-grid" />
		<view type="form" name="purchase-order-form" />
		<domain>self.statusSelect = 3</domain>
	</action-view>
	
	<action-view name="portal.purchase.order.volume.by.buyer.by.family" title="POs Volume by buyer by family">
	  <view type="chart" name="chart.purchase.order.volume.by.buyer.by.family"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>
	</action-view>
	
	<action-view name="portal.purchase.order.amount.by.family" title="Purchased amount by family">
	  <view type="chart" name="chart.purchase.order.amount.by.family"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>  
	</action-view>
	
	<action-view name="portal.purchase.order.amount.distribution.by.family" title="Purchased amount distribution by family">
	  <view type="chart" name="chart.purchase.order.amount.distribution.by.family"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
	  <context name="_user_id" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfoId()"/>    
	</action-view>

	<action-view name="portal.50.latest.supplier.orders" title="50 Latest Supplier Orders">
			<view type="grid" name="purchase-order-grid" />
			<view type="form" name="purchase-order-form" />
	</action-view>
	
<!-- 	Stock Dashboard -->
	
	<portal title="Dashboard" name="stock.dashboard.portal.sample" cols="2">		
		<portlet action="portal.stock.dashboard.upcoming.deliveries" canSearch="true" height="350" />
		<portlet action="portal.stock.move.late.cust.late.deliveries" canSearch="true" height="350" />
		<portlet action="portal.stock.move.upcoming.suppl.arrivals" height="350" canSearch="true" />
		<portlet action="portal.stock.move.late.suppl.arrivals" canSearch="true" height="350" />
		<portlet action="portal.location.line.product.out.stock.bylocation" canSearch="true" height="350" />
	    <portlet action="portal.production.stock.move.in.planned"  height="350" canSearch="true"/>    
	    <portlet action="portal.production.stock.move.out.planned" height="350" canSearch="true"/>       			
	    <portlet action="portal.production.stock.move.in.realized" height="350" canSearch="true"/>
	    <portlet action="portal.production.stock.move.out.realized" height="350" canSearch="true"/>  
	    <portlet action="portal.nbr.product.per.family" height="350" canSearch="true"/>       			
	</portal>

	<portal title="Dashboard" name="stock.dashboard.portal.one" cols="2">	
		<portlet action="portal.stock.dashboard.upcoming.deliveries" canSearch="true" height="350" />	
		<portlet action="portal.stock.move.late.cust.late.deliveries" canSearch="true" height="350" />	
		<portlet action="portal.stock.move.upcoming.suppl.arrivals" canSearch="true" height="350" />	
		<portlet action="portal.stock.move.late.suppl.arrivals" canSearch="true" height="350" />	
		<portlet action="portal.production.stock.move.in.planned" canSearch="true" height="350" />	
		<portlet action="portal.production.stock.move.in.realized" canSearch="true" height="350" />	
		<portlet action="portal.production.stock.move.out.planned" canSearch="true" height="350" />	
		<portlet action="portal.production.stock.move.out.realized" canSearch="true" height="350" />	
		<portlet action="portal.location.line.product.out.stock.bylocation" canSearch="true" height="350" />
	</portal>

	<portal title="Dashboard" name="stock.dashboard.portal.two" cols="2">
	    <portlet action="portal.stockMove.nbr.delivery.by.country" height="350"/>  
  	    <portlet action="portal.stockMoveLine.product.delivery.by.country" height="350"/>  
  	    <portlet action="portal.stockMoveLine.product.delivery.by.country.by.family" height="350"/> 
  	    <portlet action="portal.stockMove.deliveries.time.delay.in.nbr" height="350"/>
  	    <portlet action="portal.stockMove.average.delivery.time.delay" height="350"/>
	</portal>
	
	<action-view name="portal.stock.dashboard.upcoming.deliveries" title="Upcoming deliveries"
		model="com.axelor.apps.supplychain.db.StockMove">
		<view type="grid" name="stock-move-grid" />
		<view type="form" name="stock-move-form" />
		<domain>self.toLocation.typeSelect = 3 AND (self.estimatedDate between CURRENT_DATE and CURRENT_DATE + 5) AND self.statusSelect = 2</domain>
	</action-view>

	<action-view title="Late customer deliveries" model="com.axelor.apps.supplychain.db.StockMove" name="portal.stock.move.late.cust.late.deliveries">
	   <view type="grid" name="stock-move-grid"/>
	   <view type="form" name="stock-move-form"/>
	   <domain>self.toLocation.typeSelect = 3 AND self.estimatedDate &lt; CURRENT_DATE AND self.statusSelect= 2 AND self.company=:active_company</domain>
	   <context name="active_company" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()" />
	</action-view>

	<action-view title="Upcoming supplier arrivals" model="com.axelor.apps.supplychain.db.StockMove" name="portal.stock.move.upcoming.suppl.arrivals">
		  <view type="grid" name="stock-move-grid"/>
		  <view type="form" name="stock-move-form"/>
		  <domain>self.fromLocation.typeSelect = 2 AND (self.estimatedDate between CURRENT_DATE and CURRENT_DATE + 5) AND self.statusSelect = 2 AND self.company=:active_company</domain>
		  <context name="active_company" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()" />
	</action-view>

	<action-view title="Late supplier arrivals" model="com.axelor.apps.supplychain.db.StockMove" name="portal.stock.move.late.suppl.arrivals">
		  <view type="grid" name="stock-move-grid"/>
		  <view type="form" name="stock-move-form"/>
		  <domain>self.fromLocation.typeSelect = 2 AND self.estimatedDate &lt; CURRENT_DATE AND self.statusSelect = 2 AND self.company=:active_company</domain>
		  <context name="active_company" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()" />
	</action-view>

	<action-view title="Product soon out of stock by location" model="com.axelor.apps.supplychain.db.LocationLine" name="portal.location.line.product.out.stock.bylocation">
		  <view type="grid" name="location-line-grid"/>
		  <view type="form" name="location-line-form"/>
		  <domain>self.futureQty &lt; 0 AND self.location.company=:active_company</domain>
		  <context name="active_company" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()" />
	</action-view>
	
	<action-view title="Production Stock Move in Planned" icon="img/16px/productSmall_16px.png" model="com.axelor.apps.supplychain.db.StockMove" name="portal.production.stock.move.in.planned">
	    <view type="grid" name="stock-move-in-grid"/>
	    <view type="form"/>
	    <domain>self.id IN (SELECT inStockMove FROM ManufOrder WHERE statusSelect=3) OR self.id IN (SELECT inStockMove FROM OperationOrder where statusSelect=3)</domain>
	</action-view>
	
	<action-view title="Production Stock Move out Planned" icon="img/16px/productSmall_16px.png" model="com.axelor.apps.supplychain.db.StockMove" name="portal.production.stock.move.out.planned">
	    <view type="grid" name="stock-move-out-grid"/>
	    <view type="form"/>
	    <domain>self.id IN (SELECT outStockMove FROM ManufOrder WHERE statusSelect=3)</domain>
	</action-view>
	
	<action-view title="Production stock move in realized" model="com.axelor.apps.supplychain.db.StockMove" name="portal.production.stock.move.in.realized">
	    <view type="grid" name="stock-move-in-grid"/>
	    <view type="form"/>
	    <domain>self.id IN (SELECT inStockMove FROM ManufOrder WHERE statusSelect IN (4,5)) OR self.id IN (SELECT inStockMove FROM OperationOrder where statusSelect IN (4,5))</domain>
	</action-view>
	
	<action-view title="Production stock move out realized" model="com.axelor.apps.supplychain.db.StockMove" name="portal.production.stock.move.out.realized">
	    <view type="grid" name="stock-move-out-grid"/>
	    <view type="form"/>
	    <domain>self.id IN (SELECT outStockMove FROM ManufOrder WHERE statusSelect IN (4,5))</domain>
	</action-view>

	<action-view name="portal.nbr.product.per.family" title="Number of Product per Family" model="com.axelor.apps.base.db.Product">
	  <view type="chart" name="chart.nbr.product.per.family"/>
	</action-view>
	
	<action-view name="portal.nbr.product.per.category" title="Number of Product per Category" model="com.axelor.apps.base.db.Product">
	  <view type="chart" name="chart.nbr.product.per.category"/>
	</action-view>
	
	<action-view name="portal.product.type.distribution" title="Product type distribution" model="com.axelor.apps.base.db.Product">
	  <view type="chart" name="chart.product.type.distribution"/>
	</action-view>
	
	<action-view name="portal.product.launches.withdrawal.each.month" title="Product launches/withdrawal each month" model="com.axelor.apps.base.db.Product">
	  <view type="chart" name="chart.product.launches.withdrawal.each.month"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
	</action-view>
	
	<!-- This portal is used in product-form (base) -->
	<action-view name="portal.product.sales.turnover.per.month" title="Product sales turnover (Excl. Tax) per month" model="com.axelor.apps.base.db.Product">
	  <view type="chart" name="chart.product.sales.turnover.per.month"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
	  <context name="activeCompany" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>
	</action-view>
	
	<action-view name="portal.product.sales.turnover.last.12.month" title="Product sales turnover (Excl. Tax) last 12 month" model="com.axelor.apps.base.db.Product">
	  <view type="chart" name="chart.product.sales.turnover.last.12.month"/>
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
	  <context name="activeCompany" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>
	</action-view>
	
	<!-- This portlet is used in location-form -->
	<action-view title="Location value" name="portal.locationLine.location.value">
	  <view type="chart" name="chart.locationLine.location.value"/>
	</action-view>

	<!-- Purchase Order Dashboard -->
		
	<portal name="supply.chain.purchase.order.dashboard.portal.sample" title="Dashboard">
		<portlet action="portal.my.purchase.orders.to.execute" canSearch="true" height="350" />
		<portlet action="portal.ongoing.purchase.orders" canSearch="true" height="350" />
		<portlet action="portal.my.ongoing.purchase.orders" canSearch="true" height="350" />
		<portlet action="portal.closed.purchase.orders" canSearch="true" height="350" />
		<portlet action="portal.my.closed.purchase.orders" canSearch="true" height="350" />
	</portal>
	
	<action-view title="My Orders to process" model="com.axelor.apps.supplychain.db.PurchaseOrder" name="portal.my.purchase.orders.to.execute">
	    <view type="grid" name="my-purchase-order-grid"/>
	    <view type="form" name="purchase-order-form"/>
	    <domain>self.statusSelect=3 AND self.buyerUserInfo =:user_info</domain>
	    <context name="user_info" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfo()"/>
	</action-view>
	
	<action-view title="Ongoing Purchase orders" model="com.axelor.apps.supplychain.db.PurchaseOrder" name="portal.ongoing.purchase.orders">
	    <view type="grid" name="purchase-order-grid"/>
	    <view type="form" name="purchase-order-form"/>
	    <domain>self.statusSelect=4</domain>    
	</action-view>
	
	<action-view title="My Ongoing Purchase Orders" model="com.axelor.apps.supplychain.db.PurchaseOrder" name="portal.my.ongoing.purchase.orders">
	    <view type="grid" name="my-purchase-order-grid"/>
	    <view type="form" name="purchase-order-form"/>
	    <domain>self.statusSelect=4 AND self.buyerUserInfo =:user_info</domain>
	    <context name="user_info" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfo()"/>
	</action-view>
	
	<action-view title="Closed Purchase orders" model="com.axelor.apps.supplychain.db.PurchaseOrder" name="portal.closed.purchase.orders">
	    <view type="grid" name="purchase-order-grid"/>
	    <view type="form" name="purchase-order-form"/>
	    <domain>self.statusSelect=5</domain>    
	</action-view>
	
	<action-view title="My Closed Purchase Orders" model="com.axelor.apps.supplychain.db.PurchaseOrder" name="portal.my.closed.purchase.orders">
	    <view type="grid" name="my-purchase-order-grid"/>
	    <view type="form" name="purchase-order-form"/>
	    <domain>self.statusSelect=5 AND self.buyerUserInfo =:user_info</domain>
	    <context name="user_info" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserInfo()"/>
	</action-view>
	
	
	<!-- 	Purchases Dashboard -->
	
	<portal name="supplychain.purchases.dashboard.1.portal" title="Purchases Dashboard 1">
		<portlet action="portal.purchase.buyer.dashboard.validated.orders" canSearch="true" height="350" />
		<portlet action="portal.purchase.buyer.dashboard.orders" canSearch="true" height="350" />
		<portlet action="portal.purchase.buyer.dashboard.order.to.validate" canSearch="true" height="350" />
		<portlet action="portal.my.purchases.per.product.family.volume" canSearch="true" height="350" />
		<portlet action="portal.my.purchase.amount.per.product.family" canSearch="true" height="350" />
		<portlet action="portal.purchase.amount.per.product.family" canSearch="true" height="350" />
		<portlet action="portal.nbr.of.po.per.month" canSearch="true" height="350" />
		<portlet action="portal.total.purchase.amount" canSearch="true" height="350" />
		<portlet action="portal.total.purchase.qty" canSearch="true" height="350" />
		<portlet action="portal.purchase.manager.dashboard.validated.orders" canSearch="true" height="350" />
		</portal>
	
	<portal name="supplychain.purchases.dashboard.2.portal" title="Purchases Dashboard 2">
		<portlet action="portal.purchase.manager.dashboard.order.to.validate" canSearch="true" height="350" />
		<portlet action="portal.purchase.order.volume.by.buyer.by.family" canSearch="true" height="350" />
		<portlet action="portal.purchase.order.amount.by.family" canSearch="true" height="350" />
		<portlet action="portal.purchase.order.amount.distribution.by.family" canSearch="true" height="350" />
		<portlet action="portal.ongoing.supplier.rfq" canSearch="true" height="350" />
		<portlet action="portal.my.ongoing.supplier.rfq" canSearch="true" height="350" />
		<portlet action="portal.purchase.orders.to.execute" canSearch="true" height="350" />
		<portlet action="portal.my.purchase.orders.to.execute" canSearch="true" height="350" />
		<portlet action="portal.ongoing.purchase.orders" canSearch="true" height="350" />
		<portlet action="portal.my.ongoing.purchase.orders" canSearch="true" height="350" />
	</portal>
	
	<portal name="supplychain.purchases.dashboard.3.portal" title="Purchases Dashboard 3">
		<portlet action="portal.closed.purchase.orders" canSearch="true" height="350" />
		<portlet action="portal.my.closed.purchase.orders" canSearch="true" height="350" />
	</portal>
	
	
	<!-- Sales DashBoard -->
	
	<portal name="supplychain.sales.dashboard.1.portal.view" title="Sales Dashboard 1">
		<portlet action="portal.salesman.dashboard.orders" canSearch="true" height="350" />
		<portlet action="portal.my.turnover.per.month"  height="350" />
		<portlet action="portal.sales.manager.dashboard.turnover.per.team"  height="350" />
		<portlet action="portal.sales.manager.dashboard.turnover.per.salesman"  height="350" />
		<portlet action="portal.sales.manager.dashboard.sales.distribution.per.family"  height="350" />
		<portlet action="portal.sales.manager.dashboard.product.sales.per.category"  height="350" />
		<portlet action="portal.sales.manager.dashboard.sales.per.country"  height="350" />
		<portlet action="portal.turnover.sales.by.month.by.category"  height="350" />
		<portlet action="portal.units.sold.on.cust.sales.by.category"  height="350" />
	</portal>
	
	<portal name="supplychain.sales.dashboard.2.portal.view" title="Sales Dashboard 2">
		<portlet action="portal.sales.turnover.by.product.ytd.vs.lastyear" canSearch="true" height="350" />
		<portlet action="portal.sales.turnover.ytd.vs.previous.years.by.month" height="350"/>
		<portlet action="portal.sales.turnover.ytd.vs.lastyear" canSearch="true" height="350" />
		<portlet action="portal.sales.turnover.ytd.vs.past.year" height="350" />
		<portlet action="portal.sales.turnover.ytd.vs.lastyear.by.family" canSearch="true" height="350" />
		<portlet action="portal.sales.turnover.by.family.ytd.vs.lastyear" canSearch="true" height="350" />
		<portlet action="portal.turnover.per.month.per.salesman.over.6mth" canSearch="true" height="350"/>
	    <portlet action="portal.turnover.per.month.per.salesman.over.4mth" canSearch="true" height="350"/>
	    <portlet action="portal.sales.turnover.per.customer.type" canSearch="true" height="350"/>
	    <portlet action="portal.sales.turnover.per.customer.category" canSearch="true" height="350"/>
	    <portlet action="portal.sales.turnover.per.customer.sector" canSearch="true" height="350"/>
	</portal>
	
    <action-view title="Turnover per month per salesman (6 month)" model="com.axelor.apps.supplychain.db.SalesOrder" name="portal.turnover.per.month.per.salesman.over.6mth">
		  <view type="chart" name="chart.turnover.per.month.per.salesman.over.6mth"/>
		  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
		  <context name="activeCompany" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>
	</action-view>
	
	<action-view title="Turnover per month per salesman (4 month)" model="com.axelor.apps.supplychain.db.SalesOrder" name="portal.turnover.per.month.per.salesman.over.4mth">
		  <view type="chart" name="chart.turnover.per.month.per.salesman.over.4mth"/>
		  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
		  <context name="activeCompany" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>
	</action-view>
	
	<action-view title="Turnover per customer type" model="com.axelor.apps.supplychain.db.SalesOrder" name="portal.sales.turnover.per.customer.type">
		  <view type="chart" name="chart.sales.turnover.per.customer.type"/>
		  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
		  <context name="activeCompany" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>
	</action-view>

	<action-view title="Turnover per customer category" model="com.axelor.apps.supplychain.db.SalesOrder" name="portal.sales.turnover.per.customer.category">
		  <view type="chart" name="chart.sales.turnover.per.customer.category"/>
		  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
		  <context name="activeCompany" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>
	</action-view>

	<action-view title="Turnover per customer sector" model="com.axelor.apps.supplychain.db.SalesOrder" name="portal.sales.turnover.per.customer.sector">
		  <view type="chart" name="chart.sales.turnover.per.customer.sector"/>
		  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
		  <context name="activeCompany" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>
	</action-view>
		
	<!--  Product/Goods DashBorad	 -->
	
	<portal name="supplychain.products.dashboard.1.portal.view" title="Products DB 1">
		<portlet action="portal.nbr.product.per.family" height="350" />
		<portlet action="portal.nbr.product.per.category" height="350" />
		<portlet action="portal.product.type.distribution" height="350"/>
		<portlet action="portal.product.launches.withdrawal.each.month" height="350"/>
		<portlet action="portal.product.sales.turnover.last.12.month" height="350"/>		
	</portal>
	
	<portal name="supplychain.products.family.dashboard.1.portal.view" title="Family Dashboard">
		<portlet action="portal.nbr.product.per.family" canSearch="true" height="350" />
	</portal>
	
	<portal name="supplychain.products.category.dashboard.1.portal.view" title="Family Dashboard">
		<portlet action="portal.nbr.product.per.category" canSearch="true" height="350" />
	</portal>

	<!-- This portlet is called from Product-Category-Form Axelor Base -->
    <action-view title="Category sales turnover (Excl. Tax) per month" model="com.axelor.apps.base.db.Product" name="portal.category.sales.turnover.per.month">
		  <view type="chart" name="chart.category.sales.turnover.per.month"/>
		  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>
		  <context name="activeCompany" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>
	</action-view>
		
	
	<!-- 	Product-form Actions Portlets -->
	
	<action-view name="action-product-view-stock" title="Stock" model="com.axelor.apps.supplychain.db.LocationLine">
    	<view type="grid" name="location-line-product-grid"/>
    	<view type="form" name="location-line-product-form"/>
    	<domain>self.product.id = :id and self.location.typeSelect = 1</domain>
    </action-view>
    
    <action-view name="action-stock-report-for-product" title="Stock" model="com.axelor.apps.supplychain.db.LocationLine">
    	<view type="chart" name="chart.stock.report.for.product"/>
     </action-view>
  	
  	 <action-view name="action-stock-history-report-for-product" title="Stock History" model="com.axelor.apps.supplychain.db.LocationLine">
    	<view type="chart" name="chart.stock.history.report.for.product"/>
     </action-view>	
     
     <!-- 	Product-form Actions Portlets -->
		
	 <action-view name="action-product-view-stock-move-line-incoming-planned" title="Stock Moves planned"
		model="com.axelor.apps.supplychain.db.StockMoveLine">
		<view type="grid" name="stock-move-line-all-grid"/>
		<view type="form" name="stock-move-line-all-form"/>
		<domain>self.product.id = :_id AND self.stockMove.statusSelect = 2 and self.stockMove.typeSelect = 3</domain>
		<context name="_id" expr="eval: id"/>
	</action-view>	
	
	<action-view name="action-product-view-stock-move-line-consumption-planned" title="Stock Moves consumption planned"
		model="com.axelor.apps.supplychain.db.StockMoveLine">
		<view type="grid" name="stock-move-line-all-grid"/>
		<view type="form" name="stock-move-line-all-form"/>
		<domain>self.product.id = :_id and self.stockMove.statusSelect = 2 and self.stockMove.toLocation.typeSelect = 3</domain>
		<context name="_id" expr="eval: id"/>
	</action-view>
	
	<action-view name="action-product-view-stock-move-line-consumption-historical" title="Stock Moves consumption historical"
		model="com.axelor.apps.supplychain.db.StockMoveLine">
		<view type="grid" name="stock-move-line-all-grid"/>
		<view type="form" name="stock-move-line-all-form"/>
		<domain>self.product.id = :_id and self.stockMove.toLocation.typeSelect = 3</domain>
		<context name="_id" expr="eval: id"/>
	</action-view>	
	
 	<action-view name="action-product-view-stock-move-line" title="Stock Moves historical"
		model="com.axelor.apps.supplychain.db.StockMoveLine">
		<view type="grid" name="stock-move-line-all-grid"/>
		<view type="form" name="stock-move-line-all-form"/>
		<domain>self.product.id = :_id</domain>
		<context name="_id" expr="eval: id"/>
	</action-view>	
	
	<action-view name="action-product-view-supplier-requests-historical" title="Supplier requests historical"
		model="com.axelor.apps.suppliermanagement.db.PurchaseOrderSupplierLine">
		<view type="grid" name="purchase-order-supplier-line-supplier-grid" />
		<view type="form" name="purchase-order-supplier-line-supplier-form" />
		<domain>self.purchaseOrderLine.product.id = :_id</domain>
		<context name="_id" expr="eval: id"/>
	</action-view>
	
	<action-view name="action-product-view-purchase-order-line-in-progress" title="Purchase order in progress"
		model="com.axelor.apps.supplychain.db.PurchaseOrderLine">
		<view type="grid" name="purchase-order-line-grid"/>
		<view type="form" name="purchase-order-line-form"/>
		<domain>self.product.id = :_id and self.purchaseOrder.statusSelect in (1,2,3)</domain>
		<context name="_id" expr="eval: id"/>
	</action-view>	
	
	<action-view name="action-product-view-purchase-order-line-historical" title="Purchase order historical"
		model="com.axelor.apps.supplychain.db.PurchaseOrderLine">
		<view type="grid" name="purchase-order-line-grid"/>
		<view type="form" name="purchase-order-line-form"/>
		<domain>self.product.id = :_id</domain>
		<context name="_id" expr="eval: id"/>
	</action-view>	
	
	
 	<!-- This Portlet is called in Partner-Form in axelor-base and axelor-account -->
	<action-view name="portal.customer.sales.lastYear.vs.ytd.by.family" title="Sales turnover comparison per month this year vs past years by family" model="com.axelor.apps.supplychain.db.SalesOrderLine">
	  <view type="chart" name="chart.customer.sales.lastYear.vs.ytd.by.family"/>
	  <context name="activeCompany" expr="call:com.axelor.apps.base.service.user.UserInfoService:getUserActiveCompany()"/>  
	  <context name="todayDate" expr="call:com.axelor.apps.base.service.administration.GeneralService:getTodayDate()"/>  
	</action-view>
		
		
</object-views>