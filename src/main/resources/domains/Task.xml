<?xml version="1.0" encoding="UTF-8"?>
<domain-models xmlns="http://apps.axelor.com/xml/ns/domain-models"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://apps.axelor.com/xml/ns/domain-models http://apps.axelor.com/xml/ns/domain-models/domain-models_0.9.xsd">

  <module name="organisation" package="com.axelor.apps.organisation.db"/>

  <entity name="Task" lang="java">
  
  	<many-to-one name="salesOrderLine" ref="com.axelor.apps.supplychain.db.SalesOrderLine" title="Sale order line (origin)"/>
  	<string name="name" title="Task name"/>
  	<many-to-one name="project" ref="com.axelor.apps.organisation.db.Project" title="Project" required="true"/>
  	<many-to-one name="unit" title="Unit" ref="com.axelor.apps.base.db.Unit"/>
  	<decimal name="totalTime" title="Total time"/>
  	<decimal name="plannedTime" title="Planned time" readonly="true"/>
  	<decimal name="spentTime" title="Spent time" readonly="true"/>
  	<decimal name="remainingTime" title="Reminaing time" readonly="true"/>
  	<decimal name="delays" title="Delays" readonly="true"/>
  	<decimal name="advance" title="Advance" readonly="true"/>
  	<integer name="taskProgress" title="Task Progress" selection="grade.0.up.to.100.select"/>
  	<string name="description" title="Description" large="true"/>
  	<boolean name="isTimesheetAffected" title="Input from timesheet ?"/>
  	<many-to-one name="userInfo" ref="com.axelor.apps.base.db.UserInfo" title="Assigned to"/>
  	<integer name="statusSelect" title="Status" selection="organisation.task.status.select"/>
  	<decimal name="totalTask" title="Total task"/>
  	<boolean name="isToInvoice" title="To invoice ?"/>
  	<date name="invoicingDate" title="Invoicing Date"/>
  	<decimal name="amountToInvoice" title="Amount to invoice"/>
  	<datetime name="startDateT" title="Start Date Time"/>
  	<datetime name="endDateT" title="End Date Time"/>
  	
  	<boolean name="isLeaveResquest" title="Leave request ?" help="Is used as a leave request reason"/>
  	
<!--   	Notebook Planning and execution -->
	<one-to-many name="planningLineList" ref="com.axelor.apps.organisation.db.PlanningLine" mappedBy="task" title="Resources planning"/>
		
<!--   Notebook Additionnal information -->
	<string name="notes" title="Notes" large="true"/>

<!-- Financial informations -->
  	<decimal name="initialTurnover" title="Turnover" readonly="true"/>
  	<decimal name="initialCost" title="Cost" readonly="true"/>
  	<decimal name="initialMargin" title="Margin" readonly="true"/>
  	<decimal name="estimatedTurnover" title="Turnover" readonly="true"/>
  	<decimal name="estimatedCost" title="Cost" readonly="true"/>
  	<decimal name="estimatedMargin" title="Margin" readonly="true"/>
  	<decimal name="realizedTurnover" title="Turnover" readonly="true"/>
  	<decimal name="realizedCost" title="Cost" readonly="true"/>
  	<decimal name="realizedMargin" title="Margin" readonly="true"/>
  	
  	
  	<one-to-many name="financialInformationUpdateList" ref="com.axelor.apps.organisation.db.FinancialInformationUpdate" mappedBy="task" title="Financial information updates"/>
  	
  	<!--   	Onglet facturation -->
  	<many-to-one name="product" ref="com.axelor.apps.base.db.Product" title="Product"/>
  	<decimal name="qty" title="Quantity" default="1"/>
  	<decimal name="price" title="Unit price"/>
  	
	<!--   	Onglet Temps passÃ©s -->
  	<one-to-many name="spentTimeList" ref="com.axelor.apps.base.db.SpentTime" mappedBy="task" title="Spent times"/>
  	
  	
<!--   	Leave request reasons field -->
  	<boolean name="hasCummulation" title="Cumulation ?"/>
  	<integer name="accountingDay" title="Accounting day" selection="organisation.day.month.select"/>
  	
  	<string name="exportTypeSelect" title="Export Type" selection="organisation.project.report.type.select"/>
  	
  	
  </entity>

</domain-models>
