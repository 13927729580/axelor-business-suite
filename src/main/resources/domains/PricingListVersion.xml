<?xml version="1.0" encoding="UTF-8"?>
<domain-models xmlns="http://apps.axelor.com/xml/ns/domain-models"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://apps.axelor.com/xml/ns/domain-models http://apps.axelor.com/xml/ns/domain-models/domain-models_0.9.xsd">

  <module name="account" package="com.axelor.apps.account.db"/>

  <entity name="PricingListVersion" lang="java" cachable="true">
    
    <string name="sequence" title="Séquence" unique="true" /> <!-- Champ" unique="servant de champ d'appel pour les imports CSV" -->
    <many-to-one name="pricingList" ref="PricingList" title="Barème"/>
    <date name="fromDate" title="De"/>
    <date name="toDate" title="A"/>
    <boolean name="activeOk" title="Actif ?"/>
    <one-to-many name="pricingListLineList" ref="PricingListLine" mappedBy="pricingListVersion" title="Lignes de barèmes"/>
    
    <string name="fullName" title="Nom" namecolumn="true" search="id">
	    <![CDATA[
		    String name = fromDate.toString();
		    if (pricingList != null) name = pricingList.getName() + " - " + name;
		    return name;
	    ]]>
    </string>
  
  </entity>

</domain-models>
