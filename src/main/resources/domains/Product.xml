<?xml version="1.0" encoding="UTF-8"?>
<domain-models xmlns="http://apps.axelor.com/xml/ns/domain-models" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://apps.axelor.com/xml/ns/domain-models http://apps.axelor.com/xml/ns/domain-models/domain-models_2.0.xsd">
 
  <module name="base" package="com.axelor.apps.base.db"/>
 
  <entity name="Product" lang="java">
  
    <integer name="importId"/>
    <string name="name" title="Name" required="true" namecolumn="true"/>
    <string name="code" title="Code" required="true"/>
    <string name="description" large="true" title="Description" initParam="true"/>
    <many-to-one name="picture" ref="com.axelor.meta.db.MetaFile"  initParam="true"/>
    <many-to-one name="productCategory" ref="ProductCategory" title="Product category" initParam="true"/>
    <many-to-one name="productFamily" ref="ProductFamily" title="Family" initParam="true"/>
    <many-to-one name="unit" ref="Unit" title="Unit" initParam="true"/>
     
    <integer name="applicationTypeSelect" title="Application type" selection="product.application.type.select" initParam="true"/>
    <integer name="saleSupplySelect" title="Sale supply default method" selection="product.sale.supply.select" initParam="true"/>
     
    <string name="productTypeSelect" title="Product type" required="true" selection="product.product.type.select" initParam="true"/>
    <string name="procurementMethodSelect" title="Procurement method" selection="product.procurement.method.select" initParam="true"/>
    <boolean name="isRawMaterial" title="Raw material" initParam="true"/>
    
    <decimal name="salePrice" title="Sale price W.T." precision="20" scale="5"/>
    <many-to-one name="saleCurrency" ref="com.axelor.apps.base.db.Currency" title="Sale currency" initParam="true"/>
    <decimal name="purchasePrice" title="Purchase price W.T." precision="20" scale="5"/>
    <many-to-one name="purchaseCurrency" ref="com.axelor.apps.base.db.Currency" title="Purchase / Cost currency" initParam="true"/>
    
    <decimal name="costPrice" title="Cost price" precision="20" scale="5"/>
    
    <decimal name="managPriceCoef" title="Management coef."/>
    
    <date name="startDate" title="Product launch Date" initParam="true"/>
    <date name="endDate" title="Product pulled off market Date" initParam="true"/>
   
    
    <many-to-one name="invoiceLineType" ref="com.axelor.apps.account.db.InvoiceLineType" title="Invoice line type" initParam="true"/>
        
    <one-to-many name="accountManagementList" ref="com.axelor.apps.account.db.AccountManagement" mappedBy="product" title="Accounts configuration" help="If this table is empty, the default account configuration will be retrieved from the product family 'Accounts configurations' table. However, this table will has the highest priority if filled."/>
  
  	<one-to-many name="priceList" ref="com.axelor.apps.base.db.Price" mappedBy="product" title="Prices"/>
  	
  	<one-to-many name="supplierCatalogList" ref="com.axelor.apps.base.db.SupplierCatalog" mappedBy="product" title="Supplier Catalog Lines"/>
  	
  	<!-- SOCIAL NETWORKING INTEGRATION FOR PRODUCT -->
    <many-to-one name="snStatusUpdates" ref="com.axelor.apps.socialnetwork.db.SnStatusUpdates" required="false" orphan="true" default="null"/>
  
    <many-to-one name="trackingNumberConfiguration" ref="com.axelor.apps.base.db.TrackingNumberConfiguration" title="Tracking Nbr. Config."/>
    <boolean name="hasWarranty" title="Warranty ?"/>
    <boolean name="isPerishable" title="Perishable ?"/>
    <integer name="warrantyNbrOfMonths" title="Warranty length (in months)"/>
    <integer name="perishableNbrOfMonths" title="Time before expiry (in months)"/>
    
    <many-to-one name="productVariantConfiguration" ref="com.axelor.apps.base.db.ProductVariantConfiguration"/>
  
  	<many-to-one name="defaultSupplierPartner" ref="com.axelor.apps.base.db.Partner" title="Default supplier"/>
  	
  	<many-to-one name="parentProduct" ref="com.axelor.apps.base.db.Product" title="Parent product" help="Used for variants"/>
  	
  
<!--   	A Deplacer dans production :  -->
	<decimal name="lastProductionPrice" title="Last production price" precision="20" scale="5"/>
	<many-to-one name="defaultBillOfMaterial" ref="com.axelor.apps.production.db.BillOfMaterial" title="Default BOM"/>
  
  </entity>

</domain-models>
