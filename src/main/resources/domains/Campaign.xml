<?xml version="1.0" encoding="UTF-8"?>
<domain-models xmlns="http://apps.axelor.com/xml/ns/domain-models"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://apps.axelor.com/xml/ns/domain-models http://apps.axelor.com/xml/ns/domain-models/domain-models_3.0.xsd">

  <module name="marketing" package="com.axelor.apps.marketing.db"/>

  <entity name="Campaign" lang="java">
  	
  	<string name="name" title="Name" required="true" unique="true"/>
  	<string name="code" title="Code" required="true" unique="true"/>
  	<integer name="typeSelect" title="Type" required="true" selection="imarketing.campaign.type.select"/>
  	<integer name="targetSelect" title="Target" required="true" selection="imarketing.type.select"/>
  	
	<boolean name="createMessage" default="false" title="Generate message object for each email ?"/>
	<datetime name="sendFrom" title="Send campaign from"/>
	
	<many-to-many name="mailingListSet" ref="com.axelor.apps.marketing.db.MailingList" title="Mailing lists"/>
	
	<many-to-many name="partnerSet" ref="com.axelor.apps.base.db.Partner" title="Contacts"/>
	<many-to-many name="leadSet" ref="com.axelor.apps.crm.db.Lead" title="Leads"/>
  	<many-to-many name="querieSet" ref="com.axelor.apps.base.db.Querie" title="Queries"/>
  	<boolean name="hasListGenerated" default="false" title="Generated list ?"/>
  	
  	<many-to-one name="template" ref="com.axelor.apps.base.db.Template" title="Template"/>
  	<many-to-one name="templateRule" ref="com.axelor.apps.base.db.TemplateRule" title="Template rule"/>
  	
	<one-to-many name="trackerList" ref="com.axelor.apps.marketing.db.Tracker" mappedBy="campaign" title="Trackers"/>
	<one-to-many name="trackerLineList" ref="com.axelor.apps.marketing.db.TrackerLine" mappedBy="campaign" title="Tracker Line"/>
	
	<boolean name="followedCampaign" default="false" title="Follow ?"/>
	<many-to-one name="eventCategory" ref="com.axelor.apps.crm.db.EventCategory" title="Event category"/>
	<date name="eventDate" title="Event date"/>
	<many-to-one name="team" ref="com.axelor.apps.base.db.Team" title="Team"/>
	
	<boolean name="hasForceEmailSending" default="false" title="Ignore mailing rejection ?"/>
    
  </entity>

</domain-models>
