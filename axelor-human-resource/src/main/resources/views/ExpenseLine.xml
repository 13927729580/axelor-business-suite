<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_3.0.xsd">

	<grid name="expense-line-grid" title="Expense lines" model="com.axelor.apps.hr.db.ExpenseLine">
		<field name="project"/>
		<field name="expenseType"/>
		<field name="expenseDate"/>
		<field name="untaxedAmount"/>
		<field name="totalAmount"/>
	</grid>

	<form name="expense-line-form" title="Expense line" model="com.axelor.apps.hr.db.ExpenseLine">
		<panel>
			<field name="project"/>
			<field name="expenseType" domain="self.expense = true"/>
			<field name="expenseDate"/>
			<field name="untaxedAmount" onChange="action-expense-on-change-tax-untaxt-amount"/>
			<field name="totalTax" onChange="action-expense-on-change-tax-untaxt-amount"/>
			<field name="totalAmount"/>
			<field name="comments" colSpan="12"/>
			<field name="user" hidden="true" />
		</panel>
	</form>
	
	<action-record name="action-expense-on-change-tax-untaxt-amount" model="com.axelor.apps.hr.db.ExpenseLine">
	    <field name="totalAmount" expr="eval:untaxedAmount+totalTax" />
	</action-record>

</object-views>
