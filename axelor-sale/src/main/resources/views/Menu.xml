<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_4.0.xsd">
	
	
	<menuitem name="sc-root-sale" title="Sales" order="-155"
		icon="fa-line-chart" groups="admins,ERP,CRM"/>
		
	<menuitem name="sc-root-sale-templates" title="Templates" parent="sc-root-sale" groups="admins,ERP"/>
	
	<menuitem name="sale-templates-new-template" title="Create a template"  groups="admins,ERP"
		 action="sale.templates.new.template" parent="sc-root-sale-templates"/>
		 
	<action-view name="sale.templates.new.template" title="New Template"
		model="com.axelor.apps.sale.db.SaleOrder">
		<view type="form" name="sale-order-template-form"/>
		<view type="grid" name="sale-order-template-grid"/>
		<domain>self.template = true AND templateUser = :_user</domain>
		<context name="_user" expr="eval: __user__.id"/>
		<context name="_internalUser" expr="eval: __user__.id"/>
		<context name="_myActiveTeam" expr="call:com.axelor.apps.base.service.user.UserService:getUserActiveTeam()"/>
		<context name="_template" expr="eval:true" />
	</action-view>
	
	<menuitem name="sale-templates-all-templates" title="All Templates" groups="admins,ERP"
		 action="sale.templates.all.templates" parent="sc-root-sale-templates"/>
		 
	<action-view name="sale.templates.all.templates" title="All Templates"
		model="com.axelor.apps.sale.db.SaleOrder">
		<view type="grid" name="sale-order-template-grid"/>
		<view type="form" name="sale-order-template-form"/>
		<domain>self.template = true</domain>
		<context name="_internalUser" expr="eval: __user__.id"/>
		<context name="_myActiveTeam" expr="call:com.axelor.apps.base.service.user.UserService:getUserActiveTeam()"/>
		<context name="_template" expr="eval:true" />
	</action-view>
	
	<menuitem name="sale-templates-my-templates" title="My Templates" groups="admins,ERP"
		 action="sale.templates.my.templates" parent="sc-root-sale-templates"/>
		 
	<action-view name="sale.templates.my.templates" title="My Templates"
		model="com.axelor.apps.sale.db.SaleOrder">
		<view type="grid" name="sale-order-template-grid"/>
		<view type="form" name="sale-order-template-form"/>
		<domain>self.template = true AND self.templateUser = :_user</domain>
		<context name="_user" expr="eval: __user__"/>
		<context name="_internalUser" expr="eval: __user__.id"/>
		<context name="_myActiveTeam" expr="call:com.axelor.apps.base.service.user.UserService:getUserActiveTeam()"/>
		<context name="_template" expr="eval:true" />
	</action-view>
			
	<menuitem name="sc-root-sale-new-so" title="New Sale order" order="-3" 
		 groups="admins,ERP" action="sc.root.sale.new.so" parent="sc-root-sale"/>
		
	<action-view name="sc.root.sale.new.so" title="New Sale order"
		model="com.axelor.apps.sale.db.SaleOrder" >
		<view type="form" name="sale-order-form"/>
		<view type="grid" name="sale-order-grid"/>
		<view-param name="search-filters" value="sale-order-filters"/>
		<domain>self.template = false</domain>
		<context name="_internalUser" expr="eval: __user__.id"/>
		<context name="_myActiveTeam" expr="call:com.axelor.apps.base.service.user.UserService:getUserActiveTeam()"/>
		<context name="_template" expr="eval:false" />
	</action-view>	
	
	<menuitem name="sc-root-sale-orders" parent="sc-root-sale" order="-2"
		groups="admins,ERP" title="Sale orders" action="sc.root.sale.orders" />
	
	<action-view name="sc.root.sale.orders" title="Sale orders"
		model="com.axelor.apps.sale.db.SaleOrder" >
		<view type="grid" name="sale-order-grid" />
		<view type="form" name="sale-order-form" />
		<view-param name="search-filters" value="sale-order-filters"/>
		<domain>self.template = false</domain>
		<context name="_internalUser" expr="eval: __user__.id"/>
		<context name="_myActiveTeam" expr="call:com.axelor.apps.base.service.user.UserService:getUserActiveTeam()"/>
		<context name="_template" expr="eval:false" />
	</action-view>	
	
	<menuitem name="sc-root-sale-templates" parent="sc-root-sale-template" order="-1"
		groups="admins,ERP" title="See SalesOrder templates" action="sc.root.sale.templates" />
	
	<action-view name="sc.root.sale.templates" title="See SalesOrder templates"
		model="com.axelor.apps.sale.db.SaleOrder" >
		<view type="grid" name="sale-order-grid" />
		<view type="form" name="sale-order-form" />
		<view-param name="search-filters" value="sale-order-filters"/>
		<domain>self.template = true</domain>
		<context name="_internalUser" expr="eval: __user__.id"/>
		<context name="_myActiveTeam" expr="call:com.axelor.apps.base.service.user.UserService:getUserActiveTeam()"/>
		<context name="_template" expr="eval:true" />
	</action-view>
	
	<menuitem name="sc.root.sale.conf" parent="sc-root-sale"
		title="Configuration"  />

	<menuitem name="sale-conf-cancelreason" parent="sc.root.sale.conf"
		title="Cancel Reasons" action="sale.conf.cancelreason" />

	<action-view name="sale.conf.cancelreason"
		title="Cancel Reason" model="com.axelor.apps.sale.db.CancelReason" >
		<view type="grid" name="cancel-reason-grid" />
		<view type="form" name="cancel-reason-form" />
	</action-view>
	

<!-- ADMINISTRATION -->

	<menuitem name="admin-root-batch-sale" parent="admin-root-batch"
		title="Sale batches" action="admin.root.batch.sale" />

	<action-view name="admin.root.batch.sale" title="Sale batches"
		model="com.axelor.apps.sale.db.SaleBatch" >
		<view type="grid" />
		<view type="form" />
	</action-view>
	
	
	<menuitem name="admin-root-conf-sale-config" parent="admin-root-conf"
		title="Sale configurations" action="admin.root.conf.sale.config" />
		
	<action-view name="admin.root.conf.sale.config" title="Sale configurations"
		model="com.axelor.apps.sale.db.SaleConfig" >
		<view type="grid" />
		<view type="form" />
	</action-view>



<!-- TOP MENU -->

	<menuitem name="top-menu-create-so" order="-60" parent="top-menu-utility" title="Create SO" action="supply.chain.root.sale.order" />
	
	<action-view name="supply.chain.root.sale.order" title="Sales order"
		model="com.axelor.apps.sale.db.SaleOrder" >
		<view type="form" name="sale-order-form" />
		<view type="grid" name="sale-order-grid" />
	</action-view>	
	

	<menuitem name="top-sale" title="Sales" groups="admins,ERP,CRM" top="true" left="false" order="-160"/>
	
	<menuitem name="top-sale-create-quote" order="-100" title="Create Quote" parent="top-sale" action="sc.root.sale.new.so"/>
	<menuitem name="top-sale-orders-all" title="Quotes &amp; Orders" order="-70" action="sc.root.sale.orders" parent="top-sale" groups="admins,ERP" top="true" left="false"/>
	
	
	<menuitem name="top-sale-offers" title="View Quotes" order="-90" action="top.sale.offers" parent="top-sale" groups="admins,ERP" top="true" left="false"/>
	<action-view name="top.sale.offers" title="Quotes"
		model="com.axelor.apps.sale.db.SaleOrder" >
		<view type="grid" name="sale-order-grid" />
		<view type="form" name="sale-order-form" />
		<view-param name="search-filters" value="sale-order-filters"/>
		<domain>self.statusSelect = 2</domain>
		<context name="_internalUser" expr="eval: __user__.id"/>
		<context name="_myActiveTeam" expr="call:com.axelor.apps.base.service.user.UserService:getUserActiveTeam()"/>
	</action-view>	
	
	
	<menuitem name="top-sale-orders" title="View Orders" order="-80" action="top.sale.orders" parent="top-sale" groups="admins,ERP" top="true" left="false"/>		
	
	<action-view name="top.sale.orders" title="Orders"
		model="com.axelor.apps.sale.db.SaleOrder" >
		<view type="grid" name="sale-order-grid" />
		<view type="form" name="sale-order-form" />
		<view-param name="search-filters" value="sale-order-filters"/>
		<domain>self.statusSelect = 3</domain>
		<context name="_internalUser" expr="eval: __user__.id"/>
		<context name="_myActiveTeam" expr="call:com.axelor.apps.base.service.user.UserService:getUserActiveTeam()"/>
	</action-view>	
	
	
	<menuitem name="menu-saleman-dashboard-sample" parent="menu-dashboards-sample" order="-205"
		title="Salesman Db"  action="saleman.dashboard.view.sample" />
		
	<action-view name="saleman.dashboard.view.sample" title="Salesman Dashboard">
		<view type="dashboard" name="sale.saleman.dashboard.sample" />
    	<context name="_user" expr="eval:__user__"/>
    	<context name="_user_id" expr="eval:__user__.id"/>
    	<context name="_past_month" expr="eval: __date__.minusMonths(1)"/>
	</action-view>
		
	<menuitem name="menu-sale-manager-dashboard-sample" parent="menu-dashboards-sample" order="-200"
		title="Sales Manager Db"  action="sale.manager.dashboard.view.sample" />	

	<action-view name="sale.manager.dashboard.view.sample" title="Sales Manager Dashboard">
		<view type="dashboard" name="sale.manager.dashboard.sample" />
    	<context name="_past_month" expr="eval: __date__.minusMonths(1)"/>
	</action-view>
		
	<menuitem name="menu-sale-dashboard" parent="menu-dashboards"  
		title="Sales" order="-50" />	
	
	<menuitem name="menu-sale-dashboard-1" parent="menu-sale-dashboard"  
		title="Sales Db 1"  action="sale.dashboard.1" />	
		
	<action-view name="sale.dashboard.1" title="Sales Db 1">
		<view type="dashboard" name="sale.dashboard.view.1" />	 
		<context name="_user" expr="eval:__user__"/>
    	<context name="_user_id" expr="eval:__user__.id"/>
    	<context name="_past_month" expr="eval: __date__.minusMonths(1)"/>  
	</action-view>
	
	<menuitem name="menu-sale-dashboard-2" parent="menu-sale-dashboard"  
		title="Sales Db 2"  action="sale.dashboard.2" />	
		
	<action-view name="sale.dashboard.2" title="Sales Db 2">
		<view type="dashboard" name="sale.dashboard.view.2" />	 
		<context name="_past_month" expr="eval: __date__.minusMonths(1)"/> 
	</action-view>
	

	
</object-views>
