<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://apps.axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://apps.axelor.com/xml/ns/object-views http://apps.axelor.com/xml/ns/object-views/object-views_2.0.xsd">
    
    <grid name="timesheet-period-config-grid" title="Timesheets Period Config" model="com.axelor.apps.organisation.db.TimesheetPeriodConfig">
        <field name="typeSelect"/>
        <field name="hourReminderDelay"/>
        <field name="dayReminderDelay"/>
        <field name="hourLimitDelay"/>
        <field name="dayLimitDelay"/>
        <field name="isReminderAtTimesheetCreation"/>
    </grid>
    
    <form cols="4" name="timesheet-period-config-form" title="Timesheet Period Config" model="com.axelor.apps.organisation.db.TimesheetPeriodConfig"
    onNew="action-timesheet-period-config-attrs-day-of-month">
    	<field name="typeSelect"/>
    	<group title="Weekly" showIf="typeSelect == 1" cols="2" colSpan="4">
        	<group title="Period" colSpan="2">
            	<field name="firstDayOfWeek"/>
            	<field name="lastDayOfWeek"/>
        	</group>
        	<group title="Day/Hour of generation" colSpan="2">
            	<field name="dayOfGeneration"/>
            	<field name="hourOfGeneration"/>
        	</group>
    	</group>
    	<group title="Monthly" showIf="typeSelect == 2" cols="2" colSpan="4">
        	<group title="Day/Hour of generation" colSpan="4">
            	<field name="dayOfMonth"/>
            	<field name="isLastDayOfMonth" onChange="action-timesheet-period-config-attrs-day-of-month"/>            
            	<field name="hourOfGeneration"/>
            	<field name="lastDayAdjustement" showIf="isLastDayOfMonth == true"/>
        	</group>
    	</group>
    	<group name="reminderDelay" title="Reminder delay" colSpan="4">
       		<field name="hourReminderDelay"/>
        	<field name="dayReminderDelay"/>
    	</group>
    	<group title="Limit" colSpan="4">
        	<field name="hourLimitDelay"/>
        	<field name="dayLimitDelay"/>
   		</group>
    	<field name="isReminderAtTimesheetCreation"/>
    	<button name="generateTimesheets" title="Generate Timesheets" colSpan="1"/>
	</form>       
	
	<action-attrs name="action-timesheet-period-config-attrs-day-of-month">
		<attribute name="readonly" for="dayOfMonth" expr="eval: isLastDayOfMonth == true"/>
	</action-attrs>
	 
</object-views>
